# This style-file is published under CCBYSA 2.0 by http://openmtbmap.org . See here for license details: http://creativecommons.org/licenses/by-sa/2.0/
# Please: 
# a) any works that build upon it, have to give attribution to openmtbmap.org
# b) any maps generated by using the style-file or large parts of it have to give attribution to openmtbmap.org 

# 	new AccessMapping("access",     RoadNetwork.NO_MAX), // must be first in list
#		new AccessMapping("bicycle",    RoadNetwork.NO_BIKE),
#		new AccessMapping("foot",       RoadNetwork.NO_FOOT),
#		new AccessMapping("hgv",        RoadNetwork.NO_TRUCK),
#		new AccessMapping("motorcar",   RoadNetwork.NO_CAR),
#		new AccessMapping("motorcycle", RoadNetwork.NO_CAR),
#		new AccessMapping("psv",        RoadNetwork.NO_BUS),
#		new AccessMapping("taxi",       RoadNetwork.NO_TAXI),
#		new AccessMapping("emergency",  RoadNetwork.NO_EMERGENCY),
#		new AccessMapping("delivery",   RoadNetwork.NO_DELIVERY),
#		new AccessMapping("goods",      RoadNetwork.NO_DELIVERY),
# Search for ref to not start with "lf" ref ~ '[^LF].*'
# Search for wildcards '.*(mountain|alpine)*'
# The delete command deletes a tag. { delete key123 }; The same result can be achieved by setting the value of the key to an empty string. {set key123 = '' }

# Remove Import Junk
ref=0 {delete ref}
highway=footpath {set highway=path}
bridge=true {set bridge=yes}
tracktype=grade1_ruts {set tracktype=grade2}

highway=unpaved { set highway=unsurfaced}
highway=service_footway { set highway=footway }
highway="track; footway" { set highway=footway }
highway="track;footway" { set highway=footway }
highway="path;track" { set highway=path }
highway=Feldweg { set highway=track }
highway="path; track" { set highway=path }
highway="track; path" { set highway=track }
highway="track;path" { set highway=track }
highway="footway; track" { set highway=footway }
highway="footway;track" { set highway=footway }
surface=sidewalk & highway=footway {set highway=sidewalk}
highway="residential; track" { set highway=track }
highway="residential;track" { set highway=track }
highway=residental { set highway=residential }
highway=livingstreet { set highway=living_street }
highway="footway; cycleway" { set highway=cycleway; set segregated=no }
highway="footway;cycleway" { set highway=cycleway; set segregated=no }
highway="cycleway; footway" { set highway=cycleway; set segregated=no }
highway="cycleway;footway" { set highway=cycleway; set segregated=no }


cycleway=no | cycleway=none { delete cycleway }
cycleway="lane;opposite_lane" { set cycleway=opposite_lane }
cycleway="lane/opposite_lane" { set cycleway=opposite_lane }
cycleway="track;opposite_track" { set cycleway=opposite_track }
cycleway="opposite_track;track" { set cycleway=opposite_track }

bridge=footbridge { set highway=path; set bridge=yes }
bridge=pedestrian { set highway=pedestrian; set bridge=yes }
bridge=bicycle { set highway=cycleway; set bridge=yes }

# Create keys for higher resolution
highway=secondary & ref ~ '[L].*' {set importantsecondary=yes}
highway=secondary & ref ~ '[B].*' {set importantsecondary=yes}
highway=secondary & int_ref=* {set importantsecondary=yes}
highway=primary & int_ref=* {set importantprimary=yes}
highway=tertiary & int_ref=* {set importanttertiary=yes}
highway=tertiary & ref ~ '[L].*' {set importanttertiary=yes}

# Remove planned roads/railways
planned=yes & highway=* {delete highway}
planned=yes & railway=* {delete railway}
( highway=proposed | higwhay=planned ) {delete highway}
( highway=proposed | higwhay=planned ) & tunnel=* {delete tunnel}
( highway=proposed | higwhay=planned ) & bridge=* {delete bridge}
( highway=proposed | higwhay=planned ) & oneway=* {delete oneway}

bicycle=no & highway!=* & route!=* & aerialway!=* {delete bicycle}
construction=minor | construction=no {delete construction}
construction=* & highway=* & route!=bicycle & route!=mtb & extremecarver5!=bike  {set highway=construction}
highway=construction {add construction=yes}

toll=* {delete toll}

# Remove oneway on Waterways
oneway=* & waterway=* {delete oneway}

# Correct Spelling Mistakes and Apply Translitset name=
bicycle=no 	{set bicycle=nope}
highway=footpath {set highway=footway}
tracktype=grade1_ruts {set tracktype=grade2}
route=bicycle & network=mtb {set route=mtb}


# Placeholder for Translitset name=s.
loc_name=* 								{set name='${loc_name}'}
int_name=* 								{set name='${int_name}'}
int_name!=* & name:en=* 				{set name='${name:en}'}
int_name!=* & name:en!=* & name:de=* 	{set name='${name:de}'}


# Naming Section

route_name_bike1=* 		{add route_name1='${route_name_bike1}'}
route_name_bike2=* 		{add route_name1='${route_name_bike2}'}
route_name_bike3=* 		{add route_name1='${route_name_bike3}'}

railwayname=* & railway=* & highway!=* {set name='${railwayname}${name}' | '${railwayname}' }


# Overlay Attributes

( cyclelayer=icn | network=icn & route=bicycle ) & highway=primary  {set name='${route_name} icn'} 	[0x10501 resolution 19-17 continue]
( cyclelayer=ncn | network=ncn & route=bicycle ) & highway=primary  {set name='${route_name} ncn'}	[0x10501 resolution 19-17 continue]
( cyclelayer=rcn | network=icn & route=bicycle ) & highway=primary  {set name='${route_name} rcn'}	[0x10502 resolution 19-19 continue]
# cyclelayer=tcn & highway=primary  {set name='${route_name} tcn'}	[0x10502 resolution 19-19 continue]
# cyclelayer=lcn & highway=primary  {set name='${route_name} lcn'}	[0x10502 resolution 19-19 continue]
# cyclelayer=xcn & highway=primary  {set name='${route_name}'}		[0x10502 resolution 19-19 continue]

( cyclelayer=icn | network=icn & route=bicycle ) & ( highway=secondary | highway=tertiary ) {set name='${route_name} icn'}  [0x10506 resolution 19-17 continue]
( cyclelayer=ncn | network=ncn & route=bicycle ) & ( highway=secondary | highway=tertiary ) {set name='${route_name} ncn'}  [0x10506 resolution 19-17 continue]
( cyclelayer=rcn | network=rcn & route=bicycle ) & ( highway=secondary | highway=tertiary ) {set name='${route_name} rcn'}  [0x10507 resolution 19-19 continue]
# cyclelayer=tcn & ( highway=secondary | highway=tertiary ) {set name='${route_name} tcn'}  [0x10507 resolution 19-19 continue]
# cyclelayer=lcn & ( highway=secondary | highway=tertiary ) {set name='${route_name} lcn'}  [0x10507 resolution 19-19 continue]
# cyclelayer=xcn & ( highway=secondary | highway=tertiary ) {set name='${route_name}'}  	[0x10507 resolution 19-19 continue]

( cyclelayer=icn | network=icn & route=bicycle ) & highway!=primary & highway!=secondary & highway!=tertiary {set name='${route_name} icn'}	[0x10506 resolution 20-17 continue]
( cyclelayer=ncn | network=icn & route=bicycle ) & highway!=primary & highway!=secondary & highway!=tertiary {set name='${route_name} ncn'}	[0x10506 resolution 20-17 continue]
( cyclelayer=rcn | network=rcn & route=bicycle ) & highway!=primary & highway!=secondary & highway!=tertiary {set name='${route_name} rcn'} [0x10507 resolution 20-19 continue]
cyclelayer=tcn {set name='${route_name} tcn'} 	[0x10507 resolution 20-20 continue]
cyclelayer=lcn {set name='${route_name} lcn'} 	[0x10507 resolution 20-20 continue]
cyclelayer=xcn {set name='${route_name}'}  		[0x10507 resolution 20-20 continue]



# Set ferry attribute
route=ferry | route1=ferry 	| railway=funicular | railway=rack	| aerialway=* | route=shuttle_train		{set mkgmap:ferry=1}

# delete access restrictions if bicycle allowed
bicycle=yes	| bicycle=designated | bicycle=permissive | bicycle=official | route=mtb | extremecarver=mr | route=bicycle | extremecarver5=bike {set access=yes}
( access=no | access=private ) & bicycle=*  & bicycle!=nope & foot!=no & foot!=private & tunnel!=* & bridge!=* 	{set access=yes} 

highway=path & horse=designated & bicycle!=yes & bicycle!=designated 	{set highway=bridleway }

(highway=path | highway=footway | highway=bridleway) & segregated=yes 	{set highway=cycleway}
( highway=cycleway | highway=footway ) & segregated=no 					{add taxi=no; set highway=path}
highway=path & ( bicycle=designated | bicycle=yes ) & foot=no				{set taxi=no; add mkgmap:unpaved=1; set highway=cycleway}
highway=path & bicycle=nope & (foot=designated | foot=yes | foot=permitted) {set taxi=no; add mkgmap:unpaved=1; set highway=footway}
highway=footway & bicycle=designated & foot!=*							{set access=yes; set highway=path}
highway=cycleway & ( foot=yes | foot=permissive )  						{set access=yes; set highway=path}
highway=footway & bicycle=designated & ( foot=yes | foot=designated )	{set access=yes; set taxi=no; set highway=path}
highway=cycleway & foot=designated				  						{set access=yes; set taxi=no; set highway=path}
( highway=footway | highway=path ) & bicycle=official 					{set access=yes; set highway=cycleway; set taxi=no}
highway=pedestrian & ( sac_scale=* | trail_visibility=* ) {set highway=footway; set access=yes; add mkgmap:unpaved=1; set taxi=no}
highway=pedestrian & (mtb:scale=* | mtb:scale:uphill=*) {set highway=path; set access=yes; add mkgmap:unpaved=1; set taxi=no}
highway=pedestrian & bicycle=yes {set highway=footway; set access=yes; set taxi=no}

mtb:scale=0 & incline>20 & mtb:scale:uphill!=1 & mtb:scale:uphill!=2 & mtb:scale:uphill!=3 {set oneway=-1; set copy=98; set copy1=yes}
mtb:scale=1 & incline>15 & mtb:scale:uphill!=1 & mtb:scale:uphill!=2 {set oneway=-1; set copy=98; set copy1=yes}
mtb:scale=2 & incline>10 & mtb:scale:uphill!=1 & mtb:scale:uphill!=2 {set oneway=-1; set copy=98; set copy1=yes}
mtb:scale=3 & incline>10 & mtb:scale:uphill!=1 & mtb:scale:uphill!=2 {set oneway=-1; set copy=98; set copy1=yes} 
mtb:scale=4 & incline>10 & mtb:scale:uphill!=1 & mtb:scale:uphill!=2 {set oneway=-1; set copy=98; set copy1=yes}
mtb:scale=5 & incline>10 & mtb:scale:uphill!=1 & mtb:scale:uphill!=2 {set oneway=-1; set copy=98; set copy1=yes}

mtb:scale=0 & incline<-20 & mtb:scale:uphill!=1 & mtb:scale:uphill!=2 & mtb:scale:uphill!=3	{set oneway=yes; set copy=99; set copy1=yes}
mtb:scale=1 & incline<-15 & mtb:scale:uphill!=1 & mtb:scale:uphill!=2 {set oneway=yes; set copy=99; set copy1=yes}
mtb:scale=2 & incline<-10 & mtb:scale:uphill!=1 & mtb:scale:uphill!=2 {set oneway=yes; set copy=99; set copy1=yes}
mtb:scale=3 & incline<-10 & mtb:scale:uphill!=1 & mtb:scale:uphill!=2 {set oneway=yes; set copy=99; set copy1=yes} 
mtb:scale=4 & incline<-10 & mtb:scale:uphill!=1 & mtb:scale:uphill!=2 {set oneway=yes; set copy=99; set copy1=yes}
mtb:scale=5 & incline<-10 & mtb:scale:uphill!=1 & mtb:scale:uphill!=2 {set oneway=yes; set copy=99; set copy1=yes}

( mtb:scale:uphill=4 | mtb:scale:uphill=5 ) & ( incline=negative | incline=down | incline=- | incline<0 ) 	{add taxi=no; set oneway=yes; set copy=99; set copy1=yes; add mkgmap:unpaved=1}
( mtb:scale:uphill=4 | mtb:scale:uphill=5 ) & ( incline=positive | incline=up | incline=+ | incline>0 ) 	{add taxi=no; set oneway=-1; set copy=98; set copy1=yes; add mkgmap:unpaved=1}


( highway=construction | construction=* ) & route!=bicycle & biycle!=yes & bicycle!=designated			{add taxi=no; add mkgmap:unpaved=1}


highway=* & ( trail_visibility=bad | trail_visibility=no | trail_visibility=horrible ) {delete highway}		


# Remove access rights for motorcars/motorcycles:
motorcar=no | motorcar=private {delete motorcar}
motorcycle=no | motorcycle=private {delete motorcycle}
hgv=no | hgv=private {delete hgv}
psv=no | psv=private {delete psv}
taxi=no | taxi=private {delete taxi}
emergency=no | emergency=private {delete emergency}
delivery=no | delivery=private {delete delivery}
goods=no | goods=private {delete goods}


bicycle:backward=no { set oneway=yes }
biycle:forward=no { set oneway=-1 }

route1=ferry 									{set oneway=no; set name='${name1} ${name}'}			[0x212 road_class=4 road_speed=2 resolution 19 continue with_actions]
route=ferry | waterway=ferry_way | line=ferry	{set oneway=no; set name='${name} ferry' | 'ferry'} 	[0x212 road_class=4 road_speed=1 resolution 20 continue]
route1=shuttle_train 									{set oneway=no; set name='${name1} ${name}'}					[0x212 road_class=2 road_speed=2 resolution 19 continue with_actions]
route=shuttle_train | line=shuttle_train				{set oneway=no; set name='${name} s_train' | 'shuttle_train'} 	[0x212 road_class=2 road_speed=1 resolution 20 continue]

( bridge=yes | bridge=swing | bride=viaduct | bride=aqueduct)	& (route=mtb | route=bicycle | extremecarver6=*) {set name='${name} bridge' | 'bridge'}	[0x01 road_class=4 road_speed=0 resolution 24 continue]

bridge=yes 		& ( highway=primary | motorroad=yes | highway=trunk | highway=motorway ) 		{set name='${name} bridge' | 'bridge'}	[0x10701 resolution 21-21 continue with_actions]
bridge=yes 		& highway=secondary 															{set name='${name} bridge' | 'bridge'}	[0x10601 resolution 23-21 continue with_actions]
bridge=yes 		& highway=secondary 																									[0x10307 resolution 24 continue]
bridge=yes 		& construction!=* & ( highway=motorway | highway=trunk )		[0x10301 resolution 23-22 continue]
bridge=yes 		& construction!=* & ( highway=motorway | highway=trunk )		[0x10305 resolution 24 continue]
bridge=yes 		& construction!=* & ( highway=primary | motorroad=yes )			[0x10701 resolution 23-22 continue]
bridge=yes 		& construction!=* & ( highway=primary | motorroad=yes )			[0x10301 resolution 24 continue]

bridge=swing 	& ( highway=primary | motorroad=yes | highway=trunk | highway=motorway ) 		{set name='${name} swing' | 'swing'}		[0x10701 resolution 21 continue with_actions]
bridge=swing 	& highway=secondary 															{set name='${name} swing' | 'swing'}		[0x10601 resolution 21 continue with_actions]
(bridge=yes | bridge=swing)  	& ( highway=residential | highway=service ) 					{set name='${name} bridge' | 'bridge'}	[0x10603 resolution 21 continue with_actions]

bridge=yes		& highway=* & highway!=primary & highway!=motorway & highway!=trunk & motorroad!=yes & highway!=secondary & highway!=residential & highway!=service & waterway!=* & highway!=construction & highway!=proposed & proposed!=*	{set name='${name} bridge' | 'bridge'}	[0x13 road_class=4 road_speed=0 resolution 21 continue with_actions]
bridge=aqueduct & highway=* & higwhway!=construction & highway!=proposed & proposed!=* {set name='${name} aqueduct' | 'aqueduct'}	[0x13 road_class=1 road_speed=0 resolution 22 continue]
bridge=viaduct 	& highway=*	& higwhway!=construction & highway!=proposed & proposed!=* {set name='${name} viaduct' | 'viaduct'} [0x13 road_class=1 road_speed=0 resolution 22 continue]
bridge=swing 	& highway=* & higwhway!=construction & highway!=proposed & proposed!=* {set name='${name} swing' | 'swing'}	[0x13 road_class=2 road_speed=0 resolution 22 continue]

bridge=yes		& highway!=*				{set name='${name} bridge' | 'bridge'}														[0x13 resolution 22 continue]
bridge=aqueduct & highway!=*				{set name='${name} aqueduct' | 'aqueduct'}													[0x13 resolution 22 continue]
bridge=viaduct 	& highway!=*				{set name='${name} viaduct' | 'viaduct'}													[0x13 resolution 22 continue]
bridge=swing 	& highway!=*				{set name='${name} swing' | 'swing'}														[0x13 resolution 22 continue]

tunnel=yes 		& construction!=* & ( highway=secondary	| highway=tertiary )									[0x10600 resolution 23-21 continue]
tunnel=yes 		& construction!=* & ( highway=secondary	| highway=tertiary )									[0x10306 resolution 24 continue]
tunnel=yes 		& construction!=* & ( highway=primary | motorroad=yes | highway=trunk | highway=motorway )		[0x10700 resolution 21-21 continue]
tunnel=yes 		& construction!=* & ( highway=motorway | highway=trunk )										[0x10300 resolution 23-22 continue]
tunnel=yes 		& construction!=* & ( highway=motorway | highway=trunk )										[0x10304 resolution 24 continue]
tunnel=yes 		& construction!=* & ( highway=primary | motorroad=yes )											[0x10302 resolution 23-22 continue]
tunnel=yes 		& construction!=* & ( highway=primary | motorroad=yes )											[0x10300 resolution 24 continue]

tunnel=yes 		& construction!=* & ( highway=residential | highway=service )									[0x10602 resolution 22 continue]
tunnel=yes & (route=mtb | route=bicycle | extremecarver6=*) & highway!=primary & highway!=motorway & highway!=trunk & motorroad!=yes & highway!=secondary & highway!=residential & highway!=service & waterway!=*  & highway!=construction  [0x10a19 resolution 21-21 continue]
tunnel=yes & highway=* & highway!=primary & highway!=motorway & highway!=trunk & motorroad!=yes & highway!=secondary & highway!=tertiary & highway!=residential & highway!=service & waterway!=* & highway!=construction	& highway!=proposed & proposed!=* [0x10a19 resolution 22 continue]

#note 0x17 is the garbage can
# waterway=* & tunnel=*																		[0x17 resolution 21]
# tunnel=* & construction=*																	[0x17 resolution 21]
# tunnel=* & highway=construction															[0x17 resolution 21]


( admin_level=1 & boundary=* ) | admin_level_1=yes	{set name='${left:country}/${right:country}' | '${mkgmap:boundary1_name}' | '${name}' | 'ntnl bndry'} [0x10e1c resolution 14 continue]
( admin_level=2 & boundary=* ) | admin_level_2=yes | boundary=national	{set name='${mkgmap:boundary2_name}' | '${left:country}/${right:country}' | '${name}' | 'ntnl bndry'} [0x10e1c resolution 14 continue]
( admin_level=3 & boundary=administrative ) | admin_level_3=yes	{set name='${mkgmap:boundary3_name}' | '${left:state}/${right:state}' | '${left:district}/${right:district}' | '${name}' | 'admin_lv=3'} [0x10e1d resolution 19 continue]
( admin_level=4 & boundary=* ) | admin_level_4=yes	{set name='${mkgmap:boundary4_name}' | '${left:state}/${right:state}' | '${left:district}/${right:district}' | '${name}' | 'admin_lv=4'} [0x10e1e resolution 21 continue]

( admin_level_5=yes | ( admin_level=5 & boundary=administrative )) & admin_level1!=* & admin_level2!=* & admin_level3!=* & admin_level!=1 & admin_level!=2 & admin_level!=3	 & admin_level!=4
{set name='${mkgmap:boundary5_name}' | '${left:district}/${right:district}'| '${left:county}/${right:county}' | '${name}' | 'admin_lv=5'} [0x10e1f resolution 22 continue]

( admin_level_6=yes | ( admin_level=6 & boundary=* )) & admin_level1!=* & admin_level2!=* & admin_level3!=* & admin_level4!=* & admin_level!=1 & admin_level!=2 & admin_level!=3 & admin_level!=4 & admin_level!=5	
{set name='${mkgmap:boundary6_name}' | '${left:county}/${right:county}' | '${left:city}/${right:city}' | '${name}' | 'admin_lv=6'} [0x10e1f resolution 24 continue]

( admin_level_8=yes | ( admin_level=8 & boundary=* )) & admin_level1!=* & admin_level2!=* & admin_level3!=* & admin_level4!=* & admin_level5!=* & admin_level!=1 & admin_level!=2 & admin_level!=3 & admin_level!=4 & admin_level!=5	
{set name='${mkgmap:boundary8_name}' | '${left:county}/${right:county}' | '${left:city}/${right:city}' | '${name}' | 'admin_lv=8'} [0x10e1f resolution 24 continue]

# boundary=political & admin_level!=1 & admin_level!=2 & admin_level!=3 & admin_level!=4 & admin_level!=5 & admin_level!=6 & admin_level_copy!=* {set name='${left:country}/${right:country}' | '${left:state}/${right:state}' | '${left:district}/${right:district}' | '${left:county}/${right:county}' |'${left:municipality}/${right:municipality}' | '${left:city}/${right:city}' | '${left:village}/${right:village}' | '${left:suburban}/${right:suburban}' | '${name}'} 	[0x10e1f resolution 24 continue]

# boundary=civil & admin_level!=1 & admin_level!=2 & admin_level!=3 & admin_level!=4 & admin_level!=5 & admin_level!=6 & admin_level_copy!=* {set name='${left:country}/${right:country}' | '${left:state}/${right:state}' | '${left:district}/${right:district}' | '${left:county}/${right:county}' |'${left:municipality}/${right:municipality}' | '${left:city}/${right:city}' | '${left:village}/${right:village}' | '${left:suburban}/${right:suburban}' | '${name}'} 	[0x10e1f resolution 24 continue]

boundary=national_park | boundary99=yes		{set name='${mkgmap:boundary99_name}' | '${name}' | 'ntnl park'} 				[0x10f17 resolution 24 continue]


waterway=weir							{add name='${name}' | 'weir'}			[0x10f08 resolution 24 continue]
waterway=dam							{add name='${name}' | 'dam'}			[0x10e0f resolution 22 continue]
waterway=waterfall						{add name='${name}' | 'waterfall'}		[0x1080b resolution 22 continue]

waterway=stream 						& tunnel!=yes		{add name='${name}' | 'stream'}		[0x18 resolution 22 continue]
waterway=drain 							& tunnel!=yes		{add name='${name}' | 'drain'} 		[0x10a0a resolution 23 continue]
waterway=ditch 							& tunnel!=yes		{add name='${name}' | 'ditch'} 		[0x10a0a resolution 23 continue]
waterway=river & width>99 				& tunnel!=yes		{add name='${name}' | 'huge river'}	[0x10a00 resolution 18 continue]
waterway=river & width>49 & width<100 	& tunnel!=yes 		{add name='${name}' | 'wide river'}	[0x10a00 resolution 19 continue]
waterway=river & width>24 & width<50 	& tunnel!=yes 		{add name='${name}' | 'medium river'}	[0x10a0b resolution 21 continue]
waterway=river & width<25 				& tunnel!=yes 		{add name='${name}' | 'medium river'}	[0x1f resolution 21 continue]
waterway=river & width!=* 				& tunnel!=yes		{add name='${name}' | 'river'}			[0x1f resolution 21 continue]
waterway=canal 							& tunnel!=yes		{add name='${name}' | 'canal'}			[0x10a01 resolution 22 continue]


railway=platform 					[0x10802 resolution 23 continue]
railway=subway 						[0x160 resolution 24 continue]
railway=light_rail 					[0x15 resolution 22 continue]

railway=rail & usage=main			[0x29 resolution 18 continue]
railway=rail & priority=primary	{set railway=none}	[0x29 resolution 19 continue with_actions]
railway=rail & usage=branch			[0x29 resolution 21 continue]
railway=rail & usage=industrial		[0x15 resolution 23 continue]
railway=rail & usage=tourism		[0x29 resolution 22 continue]
railway=rail & usage=military		[0x15 resolution 24 continue]
railway=rail & disused=yes			[0x15 resolution 24 continue]
railway=rail & name=*  & tracks>1	& usage!=main & usage!=branch & usage!=industrial & usage!=tourism & usage!=military & disused!=yes [0x29 resolution 19 continue]
railway=rail & name!=* & tracks>1	& usage!=main & usage!=branch & usage!=industrial & usage!=tourism & usage!=military & disused!=yes [0x29 resolution 21 continue]
railway=rail & name=*  & tracks<2	& usage!=main & usage!=branch & usage!=industrial & usage!=tourism & usage!=military & disused!=yes [0x29 resolution 20 continue]
railway=rail & name!=* & tracks<2	& usage!=main & usage!=branch & usage!=industrial & usage!=tourism & usage!=military & disused!=yes [0x29 resolution 22 continue]
railway=rail & name=*  & tracks!=*	& usage!=main & usage!=branch & usage!=industrial & usage!=tourism & usage!=military & disused!=yes [0x29 resolution 21 continue]
railway=rail & name!=* & tracks!=*	& usage!=main & usage!=branch & usage!=industrial & usage!=tourism & usage!=military & disused!=yes [0x29 resolution 22 continue]

railway=* & disused=yes & railway!=rail		[0x15 resolution 24 continue]
railway=tram 								[0x15 resolution 22 continue]
railway=narrow_gauge 						[0x15 resolution 22 continue]
railway=preserved	 						[0x15 resolution 22 continue]
railway=disused	 							[0x15 resolution 23 continue]
railway=monorail	 						[0x15 resolution 22 continue]


# highway=pedestrian & bicycle!=yes & bicycle!=permitted {add name='${name} nobike' | 'nobike'}				[0x10e00 resolution 22 continue]

piste:type=snow_park | piste:type=snowpark {delete piste:type}
piste:type=downhill & piste:difficulty=freeride {delete piste:type}										

piste:type=downhill & piste:difficulty=expert {set name='${name} expert piste' | 'expert piste'}		[0x10f14 resolution 23 continue]
piste:type=downhill & piste:difficulty=advanced {set name='${name} advanced piste' | 'advanced piste'}	[0x10f13 resolution 23 continue]
piste:type=downhill & piste:difficulty=intermediate {set name='${name} intrmdt piste' | 'intrmdt piste'} [0x10f12 resolution 23 continue]
piste:type=downhill & piste:difficulty=easy {set name='${name} easy psite' | 'easy piste'}				[0x10f11 resolution 23 continue]
piste:type=downhill & piste:difficulty=novice {set name='${name} novice piste' | 'novice piste'}		[0x10f10 resolution 24 continue]
piste:type=downhill & piste:difficulty!=*  {set name='${name} piste' | 'piste'}							[0x10a05 resolution 23 continue]


(aerialway=tbar | aerialway=t-bar | piste:lift=tbar | piste:lift=t-bar | aerialway=schlepplift | piste:lift=schlepplift | drag_lift=tbar | drag_lift=t-bar)	{set name='${name} tbar' | 'tbar'}	[0x1d resolution 23 continue]
aerialway=platter 		{set name='${name} platter' | 'platter'}								[0x1d resolution 23 continue]
aerialway=rope_tow 		{set name='${name} ropetow' | 'ropetow'}								[0x1d resolution 23 continue]
aerialway=jbar | aerialway=j-bar				{set name='${name} jbar' | 'jbar'}				[0x1d resolution 23 continue]
(aerialway=drag_lift | piste:lift=drag_lift)	{set name='${name} drag_lift' | 'drag_lift'}	[0x1d resolution 23 continue]

(aerialway=cable_car | aerialway=cablecar)	{set oneway=no; set name='${name} cablecar' | 'cablecar'}						[0x1b road_class=4 road_speed=1 resolution 21 continue]
railway=funicular | railway=rack			{set oneway=no; set name='${name} funicular' | 'funicular'}						[0x29 road_class=4 road_speed=1 resolution 21 continue]
(aerialway=gondola | aerialway=mixed_lift) 	{set oneway=no; set name='${name} gondola' | 'gondola'}							[0x1b road_class=4 road_speed=1 resolution 21 continue]
( aerialway=chair_lift | aerialway=chairlift ) & bicycle=yes	{set oneway=no; set name='${name} chairlift' | 'chairlift'}	[0x216 road_class=2 road_speed=0 resolution 22 continue]
( aerialway=chair_lift | aerialway=chairlift ) & bicycle!=yes	{set name='${name} chairlift' | 'chairlift'}				[0x2b resolution 22 continue]
aerialway=goods | aerialway=goods_lift | aerialway=lift | aerialway=material {set name='${name} goods' | 'goods_lift'}		[0x1b resolution 23 continue]

natural=coastline & name!=see & name!=lake & name:en!=lake & name:de!=see & name!=neusiedler & natural!=water 	{set name='${name} coastline ' | 'coastline'}	[0x10a04 resolution 18 continue]
natural=coastline & name!=see & name!=lake & name:en!=lake & name:de!=see & name!=neusiedler & natural=water	{set name='${name} coastline ' | 'coastline'}	[0x10a04 resolution 18 continue]

power=line | powerline=yes 		[0x10a08 resolution 23 continue]

( man_made=pipeline | waterway=pipeline | manmade=pipeline ) & tunnel!=* & location!=underground & location!=underwater	[0x10f00 resolution 23 continue]
( natural=cliff | barrier=cliff )		{set name='${name} cliff' | 'cliff'}		[0x10f01 resolution 23 continue]
# barrier=wall			[0x10f02 resolution 24 continue]
# barrier=retaining_wall	[0x10f03 resolution 24 continue]
barrier=city_wall 		[0x10f04 resolution 23 continue]
# barrier=fence 			[0x10f05 resolution 24 continue]
# barrier=wood_fence 		[0x10f05 resolution 24 continue]
# barrier=wire_fence 		[0x10f05 resolution 24 continue]
# barrier=metal_fence 	[0x10f05 resolution 24 continue]
# barrier=gate 			[ resolution 24 continue]
# barrier=stile			[ resolution 24 continue]
# (barrier=hedge | natural=hedge)	[0x10f06 resolution 24 continue]
(barrier=bus_guideway | highway=bus_guideway | highway=bus_stop)	[0x10f07 resolution 24 continue]


aeroway=runway 		{set name='runway ${name}' | 'runway'}	[0x10f09 resolution 22 continue]
aeroway=taxiway 	{set name='taxiway ${name}' | 'taxiway'}	[0x10f0a resolution 22 continue]
aeroway=apron 		{set name='apron ${name}' | 'apron'}		[0x10f0b resolution 22 continue]


## Naming Section 2
mbt:scale=* {add mtb:scale = '${mbt:scale}' }
mtb_scale=* {add mtb:scale = '${mtb_scale}' }

mtb:scale="0-1" {set mtb:scale=1}
mtb:scale="1-2" {set mtb:scale=1}
mtb:scale="2-3" {set mtb:scale=2}
mtb:scale="3-4" {set mtb:scale=3}
mtb:scale="4-5" {set mtb:scale=4}

mtb:scale="0/1" {set mtb:scale=1}
mtb:scale="1/2" {set mtb:scale=1}
mtb:scale="2/3" {set mtb:scale=2}
mtb:scale="3/4" {set mtb:scale=3}
mtb:scale="4/5" {set mtb:scale=4}

mtb:scale="0;1" {set mtb:scale=1}
mtb:scale="1;2" {set mtb:scale=1}
mtb:scale="2;3" {set mtb:scale=2}
mtb:scale="3;4" {set mtb:scale=3}
mtb:scale="4;5" {set mtb:scale=4}

mtb:scale:uphill="0-1" {set mtb:scale:uphill=1}
mtb:scale:uphill="1-2" {set mtb:scale:uphill=1}
mtb:scale:uphill="2-3" {set mtb:scale:uphill=2}
mtb:scale:uphill="3-4" {set mtb:scale:uphill=3}
mtb:scale:uphill="4-5" {set mtb:scale:uphill=4}

mtb:scale:uphill="0/1" {set mtb:scale:uphill=0}
mtb:scale:uphill="1/2" {set mtb:scale:uphill=1}
mtb:scale:uphill="2/3" {set mtb:scale:uphill=2}
mtb:scale:uphill="3/4" {set mtb:scale:uphill=3}
mtb:scale:uphill="4/5" {set mtb:scale:uphill=4}

mtb:scale:uphill="0;1" {set mtb:scale:uphill=1}
mtb:scale:uphill="1;2" {set mtb:scale:uphill=1}
mtb:scale:uphill="2;3" {set mtb:scale:uphill=2}
mtb:scale:uphill="3;4" {set mtb:scale:uphill=3}
mtb:scale:uphill="4;5" {set mtb:scale:uphill=4}



# Add mtb:scale(:uphill) to name
mtb:scale=* & mtb:scale:uphill=*  & (route=mtb | extremecarver6=mr){set name='MR${mtb:scale}${mtb:scale:uphill} ${name}' | 'MR${mtb:scale}${mtb:scale:uphill} '}
mtb:scale=* & mtb:scale:uphill!=* & (route=mtb | extremecarver6=mr){set name='MR${mtb:scale}. ${name}' | 'MR${mtb:scale}.'}
(route=mtb | extremecarver6=mr) & mtb:scale!=* & mtb:scale:uphill=* {set name='MRx${mtb:scale:uphill} ${name}' |'MRx${mtb:scale:uphill}'}

mtb:scale=* & mtb:scale:uphill=* & route!=mtb & extremecarver6!=mr {set name='M${mtb:scale}${mtb:scale:uphill} ${name}' | 'M${mtb:scale}${mtb:scale:uphill} '}
mtb:scale=* & mtb:scale:uphill!=* & route!=mtb & extremecarver6!=mr {set name='M${mtb:scale}. ${name}' | 'M${mtb:scale}.'}
mtb:scale!=* & mtb:scale:uphill=* & route!=mtb & extremecarver6!=mr {set name='Mx${mtb:scale:uphill} ${name}' |'Mx${mtb:scale:uphill}'}


#mtb:scale unification

mtb:scale="1-" {set mtb:scale=1}
mtb:scale="2-" {set mtb:scale=2}
mtb:scale="3-" {set mtb:scale=3}
mtb:scale="4-" {set mtb:scale=4}
mtb:scale="5-" {set mtb:scale=5}

mtb:scale="0+" {set mtb:scale=1}
mtb:scale="1+" {set mtb:scale=2}
mtb:scale="2+" {set mtb:scale=3}
mtb:scale="3+" {set mtb:scale=4}
mtb:scale="4+" {set mtb:scale=5}
mtb:scale="5+" {set mtb:scale=5}

## Delete highway for very difficult ways
( sport=via_ferrata | mtb:scale=6 | mtb:scale=4 | mtb:scale=5 ) {delete highway}


tracktype=0 {set tracktype=grade0}
tracktype=1 {set tracktype=grade1}
tracktype=2 {set tracktype=grade2}
tracktype=3 {set tracktype=grade3}
tracktype=4 {set tracktype=grade4}
tracktype=5 {set tracktype=grade5}

tracktype="grade0;grade1" {set tracktype=grade1}
tracktype="grade1;grade2" {set tracktype=grade2}
tracktype="grade2;grade3" {set tracktype=grade3}
tracktype="grade3;grade4" {set tracktype=grade3}
tracktype="grade4;grade5" {set tracktype=grade4}
tracktype="grade5;grade6" {set tracktype=grade6}

tracktype="grade1;grade0" {set tracktype=grade1}
tracktype="grade2;grade1" {set tracktype=grade2}
tracktype="grade3;grade2" {set tracktype=grade3}
tracktype="grade4;grade3" {set tracktype=grade3}
tracktype="grade5;grade4" {set tracktype=grade4}
tracktype="grade6;grade5" {set tracktype=grade6}

tracktype=fixme | tracktype="..." | tracktype=undefined | tracktype=disused {delete tracktype}
tracktype=* & tracktype!=grade0 & tracktype!=grade1 & tracktype!=grade2 & tracktype!=grade3 & tracktype!=grade4 & tracktype!=grade5 & tracktype!=grade6 & tracktype!=extremecarver  {delete tracktype}
tracktype=grade6 {delete highway}

sac:scale=* {add sac_scale = '${sac:scale}' }
sac_scale=T1 {set sac_scale=hiking}
sac_scale=T2 {set sac_scale=mountain_hiking}
sac_scale=T3 {set sac_scale=demandin_mountain_hiking}
sac_scale=T4 {set sac_scale=alpine_hiking}
sac_scale=T5 {set sac_scale=demanding_alpine_hiking}
sac_scale=T6 {set sac_scale=difficult_alpine_hiking}

sac_scale=unkown |sac_scale=fixme | sac_scale=yes { delete sac_scale }
sac_scale=* & sac_scale!=hiking & sac_scale!=mountain_hiking & sac_scale!=demanding_mountain_hiking & sac_scale!=alpine_hiking & sac_scale!=demanding_alpine_hiking & sac_scale!=difficult_alpine_hiking { delete sac_scale }

sac_scale=demanding_alpine_hiking | sac_scale=difficult_alpine_hiking {delete highway}

smoothnes=* {add smoothness = '${smoothnes}' }
smothness=* {add smoothness = '${smothness}' }
smoothness=excelent {set smoothness=excellent}
smoothness=medium {set smoothness=intermediate}

smoothness=impassable | smoothness=very_horrible | smoothness=very_horribly {delete highway}
smoothness=* & smoothness!=excellent & smoothness!=very_good & smoothness!=good & smoothness!=intermediate & smoothness!=bad & smoothness!=very_bad & smoothness!=horrible & smoothness!=very_horrible & smoothness!=impassable {delete smoothness}


# Map Surface to tracktype if tracktype still unset.


surface=compacted  {add tracktype=grade2}
surface=dirt {add tracktype=grade3 }
surface=mud {add tracktype=grade3 }
surface=sand {add tracktype=grade4}
surface=ground | surface=earth {add tracktype=grade3}
surface=gravel | surface=schotter {add tracktype=grade2}
surface=grass {add tracktype=grade4}
surface=grit {add tracktype=grade2}
surface=gravel {add tracktype=grade2}
surface=pebblestone {add tracktype=grade3}
surface=unpaved {add tracktype=grade2}
surface=grass_paver {add tracktype=grade2}
surface=paving_stones {add tracktype=grade1}
surface=paved {add tracktype=grade1}
surface="dirt road" | surface=dirt_road {add tracktype=grade2}
surface=fine_gravel | surface="fine gravel" {add tracktype=grade2}
surface=compacted {add tracktype=grade2}
surface=concrete_plates {set tracktype=grade1}
surface=unsealed {add tracktype=grade2}
surface=unsurfaced {add tracktype=grade2}
surface=ash {add tracktype=grade3}
# surface=bricks {add tracktype=grade1}
4wd_only=yes {add taxi=no; add mkgmap:unpaved=1; add tracktpye=grade2 }

# Set unpaved, and taxi=no for tracktype and sac_scale and smoothness


smoothness=intermediate {set tracktype=grade1}
smoothness=bad {set tracktype=grade2}
smoothness=very_bad {set tracktype=grade3}
smoothness=horrible {set tracktype=grade4}

highway=* & mtb:scale!=* & tracktype!=grade1 & tracktype!=grade2 & tracktype!=grade3 & tracktype!=grade4 & (sac_scale=mountain_hiking | sac_scale=demanding_mountain_hiking | sac_scale=difficult_mountain_hiking | sac_scale=alpine_hiking | sac_scale=demanding_alpine_hiking | sac_scale=difficult_alpine_hiking ) {add mkgmap:unpaved=1} 

highway=* & usability=3 				{add taxi=no; add tracktype=grade2}
highway=* & usability=4 				{add taxi=no; add tracktype=grade3; add mkgmap:unpaved=1}
highway=* & usability=5 				{add taxi=no; add tracktype=grade4; add mkgmap:unpaved=1}
highway=* & usability=6 				{add taxi=no;  set tracktype=grade5; add mkgmap:unpaved=1}

highway=* & mtb:scale=0 		& tracktype!=* & smoothness!=* & usability!=* & surface!=* { add mkgmap:unpaved=1 }
highway=* & mtb:scale:uphill=* 	& tracktype!=* & smoothness!=* & usability!=* & surface!=* { add mkgmap:unpaved=1 }
highway=* & mtb:scale>0 { add mkgmap:unpaved=1 }

# Flag unpaved roads.
highway=* & (surface=compacted | surface=dirt |
   surface=earth | surface=grass | surface=grass_paver |
   surface=gravel | surface=grit | surface=ground | surface=mud |
   surface=pebblestone | surface=sand | surface=unpaved | surface=grass |
   tracktype ~ 'grade[2-6]' |
   smoothness ~ '.*(bad|horrible|impassable)' |
   sac_scale ~ '.*(mountain|alpine)_hiking' |
   usability>3 |
   sport=via_ferrata)
{ add mkgmap:unpaved=1 }

highway=bridleway & surface!=* & tracktype!=* & smoothness!=* & usability!=* & route!=bicycle & extremecarver5!=bike { add mkgmap:unpaved=1 }
highway=unsurfaced & surface!=* & tracktype!=* & smoothness!=* & usability!=* { add mkgmap:unpaved=1 }
(highway=track | highway=footway) & surface!=* & tracktype!=* & smoothness!=* & sac_scale!=* & route!=bicycle & extremecarver5!=bike & usability!=* { add mkgmap:unpaved=1 }
(highway=path | highway=footway | highway=track) & sac_scale=hiking & surface!=* & tracktype!=* & smoothness!=* & route!=bicycle & extremecarver5!=bike & usability!=* { add mkgmap:unpaved=1 }
(highway=path | highway=footway | highway=track | highway=bridleway) & mtb:scale=* & surface!=* & tracktype!=* & smoothness!=* & route!=bicycle & extremecarver5!=bike & usability!=* { add mkgmap:unpaved=1 }


# Unflag unpaved for bridges and tunnels and other good surfaces
higwhay=* & ( bridge=* | tunnel=* ) { set mkgmap:unpaved=0 }
highway=* & ( usability=1 | usability=2 ) {set tracktype=grade1; set mkgmap:unpaved=0}
surface=asphalt | surface=concrete | surface=beton | surface=betonplatten {set tracktype=grade1; set mkgmap:unpaved=0}
smoothness=excellent | smoothness=very_good | smoothness=good {set tracktype=grade1; set mkgmap:unpaved=0}



bicycle=nope {set name='${name} XBK'|'XBK'; set mkgmap:unpaved=1; add taxi=no}
bicycle=nope & route!=bicycle & extremecarver6!=* & tunnel=* & ( highway=primary | highway=secondary | highway=tertiary ) {set access=no}
bicycle=nope & route!=bicycle & extremecarver6!=* & bridge=* & ( highway=primary | highway=secondary ) {set access=no}

# Add kind of way to name
highway=unclassified & fixme!=* {set name='${name}'|'ucl'}
highway=minor {set name='${name}'|'mnr'}
highway=road {set name='${name} rd'|'rd'}
highway=service {set name='${name} ser'|'ser'}
highway=byway {set name='${name} byw'|'byw'}
highway=track & fixme!=* {set name='${name} trk'|'trk'}
highway=unsurfaced {set name='${name} usf'|'usf'}
highway=path {set name='${name} pth'|'pth'}
highway=bridleway {set name='${name} bd'|'bd'}
highway=cycleway {set name='${name} CW'|'CW'}
highway=footway {set name='${name} ft'|'ft'}
highway=pedestrian {set name='${name}'|'pdstrn'}
highway=parking_aisle {set name='${name}'|'parking_aisle'}
highway=construction {set name='${name}'|'cstrn'}

( highway=path | highway=footway | highway=bridleway | highway=track | highway=unsurfaced | highway=road ) & tracktype=grade1 {set name='${name} G1' | 'G1'} 

( highway=path | highway=footway | highway=cycleway | highway=bridleway | highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & tracktype=grade2 {set name='${name} G2' | 'G2'}

( highway=path | highway=footway | highway=cycleway | highway=bridleway | highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & sac_scale=demanding_mountain_hiking {set name='${name} T3' | 'T3'; set addendumname=yes }

( highway=path | highway=footway | highway=cycleway | highway=bridleway | highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & sac_scale=alpine_hiking {set name='${name} T4' | 'T4'; set addendumname=yes }

( highway=path | highway=footway | highway=cycleway | highway=bridleway | highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & sac_scale=demanding_alpine_hiking {set name='${name} T5' | 'T5'; set addendumname=yes }

( highway=path | highway=footway | highway=cycleway | highway=bridleway | highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & sac_scale=difficult_alpine_hiking {set name='${name} T6' | 'T6'; set addendumname=yes }

( highway=path | highway=footway | highway=cycleway | highway=bridleway | highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & tracktype=grade3 & addendumname!=* { set name='${name} G3' | 'G3'}

( highway=path | highway=footway | highway=cycleway | highway=bridleway | highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & tracktype=grade4 & addendumname!=* { set name='${name} G4' | 'G4'}

( highway=path | highway=footway | highway=cycleway | highway=bridleway | highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & tracktype=grade5 & addendumname!=* { set name='${name} G5' | 'G5'}

( highway=path | highway=footway | highway=cycleway | highway=bridleway | highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & ( tracktype=grade6 | tracktype=extremecarver ) & addendumname!=* { set name='${name} G6' | 'G6'}

( highway=path | highway=footway | highway=cycleway | highway=bridleway | highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & tracktype!=* & sac_scale=mountain_hiking {set name='${name} T2' | 'T2'}

( highway=path | highway=footway | highway=cycleway | highway=bridleway | highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & tracktype!=* & sac_scale=hiking {set name='${name} T1' | 'T1' }

# Set name for ways without highway-shield
highway=* & ref=* {set name='${name} (${ref})'}

# Set route name to way.
route_name1=* 			{set name='${name} ${route_name1}'| '${route_name1}'}




extremecarver3=icn 						 & ( highway=primary | highway=secondary | highway=tertiary )		[0x19 resolution 20 continue]
(extremecarver3=ncn | extremecarver3=tcn) & (highway=primary | highway=secondary | highway=tertiary )		[0x19 resolution 20 continue]
extremecarver3=rcn   					 & ( highway=primary | highway=secondary | highway=tertiary )		[0x1c resolution 20 continue]
extremecarver3=tcn   					 & ( highway=primary | highway=secondary | highway=tertiary )		[0x10608 resolution 20 continue]
extremecarver3=lcn 						 & ( highway=primary | highway=secondary | highway=tertiary )		[0x10608 resolution 20 continue]
extremecarver3=xcn 						 & ( highway=primary | highway=secondary | highway=tertiary )		[0x10608 resolution 20 continue]

extremecarver3=icn 						& highway!=primary & highway!=secondary & highway!=tertiary	[0x19 resolution 21 continue]
(extremecarver3=ncn | extremecarver3=tcn) & highway!=primary & highway!=secondary 					[0x19 resolution 21 continue]
extremecarver3=rcn   					& highway!=primary & highway!=secondary & highway!=tertiary	[0x1c resolution 21 continue]
extremecarver3=tcn   					& highway!=primary & highway!=secondary & highway!=tertiary	[0x10608 resolution 21 continue]
extremecarver3=lcn 						& highway!=primary & highway!=secondary & highway!=tertiary	[0x10608 resolution 21 continue]
extremecarver3=xcn 						& highway!=primary & highway!=secondary & highway!=tertiary	[0x10608 resolution 21 continue]

route=bicycle & mtb!=yes  & network=icn	& ( highway=primary | highway=secondary | highway=tertiary ) & extremecarver6!=* 	[0x19 resolution 20 continue]
route=bicycle & mtb!=yes  & network=ncn	& ( highway=primary | highway=secondary | highway=tertiary ) & extremecarver6!=* 	[0x1c resolution 20 continue]
route=bicycle & mtb!=yes  & network=tcn	& ( highway=primary | highway=secondary | highway=tertiary ) & extremecarver6!=* 	[0x19 resolution 20 continue]
route=bicycle & mtb!=yes  & network=rcn	& ( highway=primary | highway=secondary | highway=tertiary ) & extremecarver6!=* 	[0x1c resolution 20 continue]
route=bicycle & mtb!=yes  & network=lcn & ( highway=primary | highway=secondary | highway=tertiary ) & extremecarver6!=* 	[0x10608 resolution 20 continue]

route=bicycle & network!=mtb & mtb!=yes  & network=icn  & highway!=primary & highway!=secondary & highway!=tertiary & extremecarver6!=* [0x19 resolution 21 continue]
route=bicycle & network!=mtb & mtb!=yes  & network=ncn  & highway!=primary & highway!=secondary & highway!=tertiary & extremecarver6!=* [0x1c resolution 21 continue]
route=bicycle & network!=mtb & mtb!=yes  & network=tcn  & highway!=primary & highway!=secondary & highway!=tertiary & extremecarver6!=* [0x19 resolution 21 continue]
route=bicycle & network!=mtb & mtb!=yes  & network=rcn  & highway!=primary & highway!=secondary & highway!=tertiary & extremecarver6!=* [0x1c resolution 21 continue]
route=bicycle & network!=mtb & mtb!=yes  & network=lcn  & highway!=primary & highway!=secondary & highway!=tertiary & extremecarver6!=* [0x10608 resolution 21 continue]

route=icn & network!=* & mtb!=yes & extremecarver6!=* & extremecarver6!=* 	[0x19 resolution 20 continue]
route=ncn & network!=* & mtb!=yes & extremecarver6!=* & extremecarver6!=* 	[0x1c resolution 20 continue]
route=tcn & network!=* & mtb!=yes & extremecarver6!=* & extremecarver6!=* 	[0x19 resolution 20 continue]
route=rcn & network!=* & mtb!=yes & extremecarver6!=* & extremecarver6!=* 	[0x1c resolution 20 continue]
route=lcn & network!=* & mtb!=yes & extremecarver6!=* & extremecarver6!=* 	[0x10608 resolution 20 continue]

( cycleroute=yes | route=bicycle ) & extremecarver5!=bike & extremacerver3!=* & network!=icn & network!=ncn & network!=tcn & network!=rcn & network!=lcn & network!=xcn & ( highway=primary | highway=secondary | highway=tertiary ) & extremecarver6!=* 	{set extremecarver5=bike}	[0x10608 resolution 20 continue with_actions]
( cycleroute=yes | route=bicycle ) & extremecarver5!=bike & extremacerver3!=* & network!=icn & network!=ncn & network!=tcn & network!=rcn & network!=lcn & network!=xcn & highway!=primary & highway!=secondary & highway!=tertiary  & extremecarver6!=*	{set extremecarver5=bike} [0x10608 resolution 21 continue with_actions]

( highway=icn_major | highway=icn_minor | highway=icn_offroad | icn=yes | icn_ref=* | bicycle=icn ) & extremecarver5!=bike  & ( highway=primary | highway=secondary | highway=tertiary ) {set extremecarver5=bike}	[0x19 resolution 20 continue with_actions]
( highway=ncn_major | highway=ncn_minor | highway=ncn_offroad | ncn=yes | ncn_ref=* | bicycle=ncn ) & extremecarver5!=bike  & ( highway=primary | highway=secondary | highway=tertiary ) {set extremecarver5=bike}	[0x19 resolution 20 continue with_actions] 
( highway=tcn_major | highway=tcn_minor | highway=tcn_offroad | tcn=yes | tcn_ref=* | bicycle=tcn ) & extremecarver5!=bike  & ( highway=primary | highway=secondary | highway=tertiary ) {set extremecarver5=bike} 	[0x19 resolution 20 continue with_actions]
( highway=rcn_major | highway=rcn_minor | highway=rcn_offroad | rcn=yes | rcn_ref=* | bicycle=rcn ) & extremecarver5!=bike  & ( highway=primary | highway=secondary | highway=tertiary ) {set extremecarver5=bike}	[0x1c resolution 20 continue with_actions]
( highway=lcn_major | highway=lcn_minor | highway=lcn_offroad | lcn=yes | lcn_ref=* | bicycle=lcn ) & extremecarver5!=bike  & ( highway=primary | highway=secondary | highway=tertiary ) {set extremecarver5=bike}	[0x10608 resolution 20 continue with_actions]

( highway=icn_major | highway=icn_minor | highway=icn_offroad | icn=yes | icn_ref=* | bicycle=icn ) & extremecarver5!=bike  & ( highway=unclassified | highway=minor ) {set extremecarver5=bike}	[0x19 resolution 21 continue with_actions]
( highway=ncn_major | highway=ncn_minor | highway=ncn_offroad | ncn=yes | ncn_ref=* | bicycle=ncn ) & extremecarver5!=bike  & ( highway=unclassified | highway=minor ) {set extremecarver5=bike}	[0x19 resolution 21 continue with_actions] 
( highway=tcn_major | highway=tcn_minor | highway=tcn_offroad | tcn=yes | tcn_ref=* | bicycle=tcn ) & extremecarver5!=bike  & ( highway=unclassified | highway=minor ) {set extremecarver5=bike} 	[0x19 resolution 21 continue with_actions]
( highway=rcn_major | highway=rcn_minor | highway=rcn_offroad | rcn=yes | rcn_ref=* | bicycle=rcn ) & extremecarver5!=bike  & ( highway=unclassified | highway=minor ) {set extremecarver5=bike}	[0x1c resolution 21 continue with_actions]
( highway=lcn_major | highway=lcn_minor | highway=lcn_offroad | lcn=yes | lcn_ref=* | bicycle=lcn ) & extremecarver5!=bike  & ( highway=unclassified | highway=minor ) {set extremecarver5=bike}	[0x10608 resolution 21 continue with_actions]

( highway=icn_major | highway=icn_minor | highway=icn_offroad | icn=yes | icn_ref=* | bicycle=icn ) & extremecarver5!=bike & highway!=primary & highway!=secondary & highway!=tertiary & highway!=unclassified & highway!=minor {set extremecarver5=bike} [0x19 resolution 22 continue with_actions]
( highway=ncn_major | highway=ncn_minor | highway=ncn_offroad | ncn=yes | ncn_ref=* | bicycle=ncn ) & extremecarver5!=bike & highway!=primary & highway!=secondary & highway!=tertiary & highway!=unclassified & highway!=minor {set extremecarver5=bike} [0x19 resolution 22 continue with_actions] 
( highway=tcn_major | highway=tcn_minor | highway=tcn_offroad | tcn=yes | tcn_ref=* | bicycle=tcn ) & extremecarver5!=bike & highway!=primary & highway!=secondary & highway!=tertiary & highway!=unclassified & highway!=minor {set extremecarver5=bike} [0x19 resolution 22 continue with_actions]
( highway=rcn_major | highway=rcn_minor | highway=rcn_offroad | rcn=yes | rcn_ref=* | bicycle=rcn ) & extremecarver5!=bike & highway!=primary & highway!=secondary & highway!=tertiary & highway!=unclassified & highway!=minor {set extremecarver5=bike} [0x1c resolution 22 continue with_actions]
( highway=lcn_major | highway=lcn_minor | highway=lcn_offroad | lcn=yes | lcn_ref=* | bicycle=lcn ) & extremecarver5!=bike & highway!=primary & highway!=secondary & highway!=tertiary & highway!=unclassified & highway!=minor {set extremecarver5=bike} [0x10608 resolution 22 continue with_actions]




highway=* & dontadd=oneway & copy=99				{set oneway=-1; add taxi=no; set mkgmap:unpaved=1}		[0x01 road_class=0 road_speed=0 resolution 24 continue]
highway=* & dontadd=oneway & copy=98				{set oneway=yes; add taxi=no; set mkgmap:unpaved=1}		[0x01 road_class=0 road_speed=0 resolution 24 continue]


bicycle=nope & highway=primary & highway=secondary 																								[0x1051f resolution 23-22 continue]
bicycle=nope & highway=primary & highway=secondary {add taxi=no; add mkgmap:unpaved=1; set nonope=yes} 											[0x10400 resolution 24 continue with_actions]
bicycle=nope & highway=tertiary 																												[0x1051f resolution 23-22 continue]
bicycle=nope & highway=tertiary {add taxi=no; add mkgmap:unpaved=1; set nonope=yes} 															[0x1040c resolution 24 continue with_actions]
bicycle=nope & ( highway=unclassified | highway=minor )  {add taxi=no; add mkgmap:unpaved=1; set nonope=yes} 									[0x10a09 resolution 22 continue with_actions]
bicycle=nope & highway!=path & highway!=footway & highway!=bridleway & highway!=cycleway & nonope!=yes {add taxi=no; add mkgmap:unpaved=1} 		[0x1040e resolution 23 continue with_actions]

bicycle=nope & highway=path 														{add taxi=no; add mkgmap:unpaved=1}	[0x1040e resolution 23 continue with_actions]
bicycle=nope & highway=footway  						 							{add taxi=no; add mkgmap:unpaved=1}	[0x1040e resolution 23 continue with_actions]
bicycle=nope & highway=bridleway  													{add taxi=no; add mkgmap:unpaved=1}	[0x1040e resolution 23 continue with_actions]
bicycle=nope & highway=cycleway & ( foot=yes | foot=permissive | foot=designated ) 	{add taxi=no; add mkgmap:unpaved=1}	[0x10a09 resolution 23 continue with_actions]


# maybe need to better classify the backward/forward stuff. Explication on wiki is confusing.
bicycle:backward=yes | bicycle:forward=yes {set bicycle:oneway=no}

oneway=1 | oneway=true {set oneway=yes}
oneway=-1 {set oneway=reverse}

oneway=yes 		& bicycle:oneway=no & copy!=* {set oneway=no} [0x30a road_class=0 road_speed=0 resolution 24 continue]
oneway=reverse 	& bicycle:oneway=no & copy!=* {set oneway=no} [0x30a road_class=0 road_speed=0 resolution 24 continue]

highway=primary &  oneway=yes				& copy!=* {set copy=copied} [0x1051c resolution 24 continue with_actions]
highway=primary &  oneway=reverse 			& copy!=* {set copy=copied} [0x1051d resolution 24 continue with_actions]
highway=residential &  oneway=yes			& copy!=* {set copy=copied} [0x10401 resolution 24 continue with_actions]
highway=residential &  oneway=reverse 		& copy!=* {set copy=copied} [0x10402 resolution 24 continue with_actions]

oneway=yes 		& ( cycleway=opposite | cycleway=opposite_lane | cycleway=opposite_track | cycleway=both ) & copy!=* {set copy=copied} [0x10a02 resolution 24 continue with_actions]
oneway=reverse	& ( cycleway=opposite | cycleway=opposite_lane | cycleway=opposite_track | cycleway=both ) & copy!=* {set copy=copied} [0x10a03 resolution 24 continue with_actions]

oneway=yes 		& ( highway=secondary | highway=tertiary | highway=minor | highway=unclassified ) & copy!=* {set copy=copied} [0x10a02 resolution 24 continue with_actions]
oneway=reverse	& ( highway=secondary | highway=tertiary | highway=minor | highway=unclassified ) & copy!=* {set copy=copied} [0x10a03 resolution 24 continue with_actions]

highway=* & oneway=yes 		& copy!=* & highway!=primary & highway!=secondary & highway!=tertiary & highway!=minor & highway!=unclassified & bicycle:oneway!=no & motorroad!=yes & highway!=trunk & highway!=motorway & highway!=motorway_link & highway!=trunk_link & highway!=construction & construction!=* & highway!=proposed & proposed!=* & cycleway!=* & highway!=cycleway {set oneway=no} [0x11 road_class=0 road_speed=0 resolution 24 continue]
highway=* & oneway=reverse 	& copy!=* & highway!=primary & highway!=secondary & highway!=tertiary & highway!=minor & highway!=unclassified & bicycle:oneway!=no & motorroad!=yes & highway!=trunk & highway!=motorway & highway!=motorway_link & highway!=trunk_link & highway!=construction & construction!=* & highway!=proposed & proposed!=* & cycleway!=* & highway!=cycleway {set oneway=no} [0x215 road_class=0 road_speed=0 resolution 24 continue]


(cycleway=lane_right | cycleway:right=lane ) 	& highway=secondary		& highway!=cycleway {set cyclewaysidecopy=yes}  [0x10411 resolution 22 continue with_actions]
(cycleway=lane_left | cycleway:left=lane ) 		& highway=secondary		& highway!=cycleway {set cyclewaysidecopy=yes}	[0x10410 resolution 22 continue with_actions]
(cycleway=track_right | cycleway:right=track ) 	& highway=secondary		& highway!=cycleway {set cyclewaysidecopy=yes}	[0x10413 resolution 22 continue with_actions]
(cycleway=track_left | cycleway:left=track ) 	& highway=secondary		& highway!=cycleway {set cyclewaysidecopy=yes}	[0x10412 resolution 22 continue with_actions]

(cycleway=lane_right | cycleway:right=lane ) 	& highway=primary		& highway!=cycleway {set cyclewaysidecopy=yes}	[0x10415 resolution 22 continue with_actions]
(cycleway=lane_left | cycleway:left=lane ) 		& highway=primary		& highway!=cycleway {set cyclewaysidecopy=yes}	[0x10414 resolution 22 continue with_actions]
(cycleway=track_right | cycleway:right=track ) 	& highway=primary		& highway!=cycleway {set cyclewaysidecopy=yes}	[0x10417 resolution 22 continue with_actions]
(cycleway=track_left | cycleway:left=track ) 	& highway=primary		& highway!=cycleway {set cyclewaysidecopy=yes}	[0x10416 resolution 22 continue with_actions]

(cycleway=lane_right | cycleway:right=lane ) 							& cyclewaysidecopy!=yes & highway!=cycleway [0x10f1e resolution 23 continue]
(cycleway=lane_left | cycleway:left=lane ) 								& cyclewaysidecopy!=yes & highway!=cycleway [0x10f1f resolution 23 continue]
(cycleway=track_right | cycleway:right=track ) 							& cyclewaysidecopy!=yes & highway!=cycleway [0x10f18 resolution 23 continue]
(cycleway=track_left | cycleway:left=track ) 							& cyclewaysidecopy!=yes & highway!=cycleway [0x10f19 resolution 23 continue]




cycleway=lane																			&  highway=primary	[0x10706 resolution 22-22 continue]
cycleway=lane																			&  highway=primary	[0x10403 resolution 23 continue]

cycleway=track											 									&  highway=primary	[0x10705 resolution 22 continue]
cycleway=track											 									&  highway=primary	[0x10404 resolution 22 continue]

cycleway=opposite & ( extremecarver5=bike | route=bicycle ) 	&  highway=primary {set oneway=no}	[0x01 road_class=1 road_speed=0 resolution 24 continue]
cycleway=opposite																			&  highway=primary 					[0x10405 resolution 23-22 continue]
cycleway=opposite																			&  highway=primary {set oneway=no}	[0x300 road_class=0 road_speed=0 resolution 24 continue]

cycleway=opposite_lane & ( extremecarver5=bike | route=bicycle ) &  highway=primary {set oneway=no}	[0x01 road_class=2 road_speed=0 resolution 24 continue]
cycleway=opposite_lane										 									&  highway=primary 					[0x10406 resolution 23-22 continue]
cycleway=opposite_lane										 									&  highway=primary {set oneway=no}	[0x301 road_class=0 road_speed=0 resolution 24 continue]

cycleway=opposite_track & ( extremecarver5=bike | route=bicycle )	&  highway=primary {set oneway=no}	[0x01 road_class=1 road_speed=0 resolution 24 continue]
cycleway=opposite_track										 										&  highway=primary 					[0x10407 road_class=0 road_speed=0 resolution 23-22 continue]
cycleway=opposite_track										 										&  highway=primary {set oneway=no}	[0x302 road_class=0 road_speed=0 resolution 24 continue]

cycleway=yes																			&  highway=primary	[0x10705 resolution 23-22 continue]
cycleway=yes																			&  highway=primary	[0x10408 resolution 24 continue]

cycleway=both																			&  highway=primary {set oneway=no}	[0x10705 resolution 23-22 continue with_actions]
cycleway=both																			&  highway=primary 					[0x10404 resolution 24 continue]


cycleway=lane																			&  highway=secondary	[0x10409 resolution 23-22 continue]
cycleway=lane																			&  highway=secondary	[0x10606 resolution 24 continue]

cycleway=track											 									&  highway=secondary	[0x1040a resolution 23-22 continue]
cycleway=track											 									&  highway=secondary	[0x10605 resolution 24 continue]

cycleway=opposite & ( extremecarver5=bike | route=bicycle ) 	&  highway=secondary {set oneway=no}	[0x01 road_class=1 road_speed=1 resolution 24 continue]
cycleway=opposite																			&  highway=secondary {set oneway=no}	[0x303 road_class=0 road_speed=0 resolution 24 continue]
cycleway=opposite																			&  highway=secondary 					[0x1040b resolution 23-22 continue]

cycleway=opposite_lane & ( extremecarver5=bike | route=bicycle ) &  highway=secondary {set oneway=no}	[0x01 road_class=1 road_speed=1 resolution 24 continue]
cycleway=opposite_lane										 									&  highway=secondary {set oneway=no}	[0x303 road_class=0 road_speed=1 resolution 24 continue]
cycleway=opposite_lane										 									&  highway=secondary {set oneway=no}	[0x1040b resolution 23-22 continue]

cycleway=opposite_track & ( extremecarver5=bike | route=bicycle )	&  highway=secondary {set oneway=no}	[0x01 road_class=1 road_speed=1 resolution 24 continue]
cycleway=opposite_track										 										&  highway=secondary {set oneway=no}	[0x305 road_class=1 road_speed=0 resolution 24 continue]
cycleway=opposite_track										 										&  highway=secondary {set oneway=no}	[0x1040d resolution 23-22 continue]

cycleway=yes																			&  highway=secondary	[0x10605 resolution 24 continue]
cycleway=yes																			&  highway=secondary	[0x1040a resolution 23-22 continue]

cycleway=both & ( extremecarver5=bike | route=bicycle ) 	&  highway=secondary {set oneway=no}	[0x01 road_class=1 road_speed=0 resolution 24 continue]
cycleway=both																			&  highway=secondary {set oneway=no}	[0x30e road_class=0 road_speed=0 resolution 24 continue]
cycleway=both																			&  highway=secondary					[0x1040a resolution 23-22 continue]


cycleway=lane																			&  highway=tertiary	[0x10606 resolution 23 continue]
cycleway=track											 									&  highway=tertiary	[0x10605 resolution 23 continue]

cycleway=opposite & ( extremecarver5=bike | route=bicycle ) 	&  highway=tertiary {set oneway=no}	[0x01 road_class=1 road_speed=1 resolution 23 continue]
cycleway=opposite												&  highway=tertiary {set oneway=no}	[0x303 road_class=0 road_speed=0 resolution 23 continue]

cycleway=opposite_lane & ( extremecarver5=bike | route=bicycle ) &  highway=tertiary {set oneway=no}	[0x01 road_class=1 road_speed=1 resolution 23 continue]
cycleway=opposite_lane										 									&  highway=tertiary {set oneway=no}	[0x303 road_class=0 road_speed=1 resolution 23 continue]

cycleway=opposite_track & ( extremecarver5=bike | route=bicycle )	&  highway=tertiary {set oneway=no}	[0x01 road_class=1 road_speed=1 resolution 23 continue]
cycleway=opposite_track										 										&  highway=tertiary {set oneway=no}	[0x305 road_class=1 road_speed=0 resolution 23 continue]


cycleway=yes																			&  highway=tertiary	[0x10605 resolution 23 continue]
cycleway=both & ( extremecarver5=bike | route=bicycle ) 	&  highway=tertiary {set oneway=no}	[0x01 road_class=1 road_speed=0 resolution 23 continue]
cycleway=both																			&  highway=tertiary {set oneway=no}	[0x30e road_class=0 road_speed=0 resolution 23 continue]




cycleway=lane																			&  ( highway=residential | highway=service )	[0x1071b resolution 24 continue]
cycleway=track											 								&  ( highway=residential | highway=service )	[0x1071a resolution 24 continue]

cycleway=opposite & ( extremecarver5=bike | route=bicycle ) 	&  ( highway=residential | highway=service ) {set oneway=no}	[0x01 road_class=1 road_speed=1 resolution 24 continue]
cycleway=opposite												&  ( highway=residential | highway=service ) {set oneway=no}	[0x307 road_class=0 road_speed=1 resolution 23 continue]

cycleway=opposite_lane & ( extremecarver5=bike | route=bicycle ) &  ( highway=residential | highway=service ) {set oneway=no}	[0x01 road_class=2 road_speed=1 resolution 24 continue]
cycleway=opposite_lane										 	 &  ( highway=residential | highway=service ) {set oneway=no}	[0x308 road_class=0 road_speed=1 resolution 23 continue]

cycleway=opposite_track & ( extremecarver5=bike | route=bicycle )	&  ( highway=residential | highway=service ) {set oneway=no}	[0x01 road_class=1 road_speed=1 resolution 24 continue]
cycleway=opposite_track										 		&  ( highway=residential | highway=service ) {set oneway=no}	[0x309 road_class=0 road_speed=0 resolution 23 continue]

cycleway=yes																		&  ( highway=residential | highway=service )	[0x1071a resolution 24 continue]

cycleway=both & ( extremecarver5=bike | route=bicycle ) 	&  ( highway=residential | highway=service ) {set oneway=no}	[0x01 road_class=1 road_speed=1 resolution 24 continue]
cycleway=both												&  ( highway=residential | highway=service ) {set oneway=no}	[0x30d road_class=1 road_speed=1 resolution 23 continue]

cycleway=lane & highway=footway	& bicycle=designated 				& highway!=cycleway & highway!=track 	[0x10f1d resolution 23 continue]
cycleway=lane & highway=footway						 				& highway!=cycleway & highway!=track	[0x10f1d resolution 23 continue]
cycleway=lane & highway!=cycleway & highway!=path & highway!=footway & highway!=primary & highway!=secondary & highway!=residential & highway!=service & highway!=cycleway & highway!=track [0x10f1d resolution 23 continue]

cycleway=track & highway=footway	& bicycle=designated 										[0x10f1c resolution 23 continue]
cycleway=track & highway=footway						 										[0x10f1c resolution 23 continue]
cycleway=track & highway=*	& highway!=cycleway & highway!=path & highway!=footway & highway!=primary & highway!=secondary & highway!=residential & highway!=service & highway!=cycleway & highway!=track [0x10f1c resolution 23 continue]

cycleway=opposite & ( extremecarver5=bike | route=bicycle ) & highway!=residential & highway!=service & highway!=primary & highway!=secondary & highway!=tertiary {set oneway=no} [0x01 road_class=2 road_speed=1 resolution 24 continue]
cycleway=opposite & highway=footway	& bicycle=designated 																						{set oneway=no}	[0x30a road_class=1 road_speed=1 resolution 23 continue]
cycleway=opposite & highway=footway																												{set oneway=no}	[0x30a road_class=0 road_speed=1 resolution 23 continue]
cycleway=opposite & highway!=cycleway & highway!=path & highway!=footway & highway!=primary & highway!=track & highway!=secondary & highway!=tertiary & highway!=residential & highway!=service & highway!=cycleway {set oneway=no}	[0x30a road_class=0 road_speed=1 resolution 23 continue]

cycleway=opposite_lane & highway=* & ( extremecarver5=bike | route=bicycle ) & highway!=residential & highway!=service & highway!=primary & highway!=secondary & highway!=tertiary	{set oneway=no}	[0x01 road_class=3 road_speed=1 resolution 24 continue]
cycleway=opposite_lane & highway=footway & bicycle=designated 																						{set oneway=no}	[0x30b road_class=2 road_speed=1 resolution 23 continue]
cycleway=opposite_lane & highway=footway																											{set oneway=no}	[0x30b road_class=1 road_speed=1 resolution 23 continue]
cycleway=opposite_lane & highway!=cycleway & highway!=path & highway!=track & highway!=footway & highway!=primary & highway!=secondary & highway!=tertiary & highway!=residential & highway!=service & highway!=cycleway 	{set oneway=no}	[0x30b road_class=1 road_speed=1 resolution 23 continue]

cycleway=opposite_track & ( extremecarver5=bike | route=bicycle ) 	& highway!=residential & highway!=service & highway!=primary & highway!=secondary & highway!=tertiary	{set oneway=no} [0x01 road_class=2 road_speed=1 resolution 24 continue]
cycleway=opposite_track & highway=footway	& bicycle=designated	{set oneway=no} [0x30c road_class=1 road_speed=1 resolution 23 continue]
cycleway=opposite_track & highway=footway		{set oneway=no} [0x30c road_class=0 road_speed=1 resolution 23 continue]
cycleway=opposite_track & highway!=cycleway & highway!=path & highway!=footway & highway!=track & highway!=primary & highway!=secondary & highway!=tertiary & highway!=residential & highway!=service & highway!=cycleway 	{set oneway=no} [0x30c road_class=0 road_speed=1 resolution 23 continue]

cycleway=yes & highway=footway	& bicycle=designated 	& highway!=track & highway!=cycleway & highway!=path & highway!=track																	[0x10f1c resolution 23 continue]
cycleway=yes & highway=footway						 	& highway!=track & highway!=cycleway & highway!=path & highway!=track																	[0x10f1c resolution 23 continue]
cycleway=yes & highway!=cycleway & highway!=path & highway!=footway & highway!=primary & highway!=secondary & highway!=tertiary & highway!=track & highway!=residential & highway!=service & highway!=cycleway  	[0x10f1c resolution 23 continue]


cycleway=both & ( extremecarver5=bike | route=bicycle ) & highway!=cycleway & highway!=path & highway!=residential & highway!=service & highway!=primary & highway!=secondary & highway!=tertiary {set oneway=no} [0x01 road_class=2 road_speed=1 resolution 24 continue]
cycleway=both & highway=footway	& bicycle=designated	{set oneway=no}	[0x30f road_class=1 road_speed=1 resolution 23 continue]
cycleway=both & highway=footway		{set oneway=no}	[0x30f road_class=0 road_speed=1 resolution 23 continue]
cycleway=both & highway!=cycleway & highway!=path & highway!=track & highway!=footway & highway!=primary & highway!=secondary & highway!=tertiary & highway!=residential & highway!=service & highway!=cycleway 	{set oneway=no}	[0x30f road_class=0 road_speed=1  resolution 23 continue]







#############################  Create a new system for integrating class:bicycle  #############################

### Unify notation for mkgmap
class:bicycle="+3" {set class:bicycle=3}
class:bicycle="+2" {set class:bicycle=2}
class:bicycle="+1" {set class:bicycle=1}
class:bicycle:roadcycling="+3" {set class:bicycle:roadcycling=3}
class:bicycle:roadcycling="+2" {set class:bicycle:roadcycling=2}
class:bicycle:roadcycling="+1" {set class:bicycle:roadcycling=1}
class:bicycle:commute="+3" {set class:bicycle:commute=3}
class:bicycle:commute="+2" {set class:bicycle:commute=2}
class:bicycle:commute="+1" {set class:bicycle:commute=1}
class:bicycle:touring="+3" {set class:bicycle:touring=3}
class:bicycle:touring="+2" {set class:bicycle:touring=2}
class:bicycle:touring="+1" {set class:bicycle:touring=1}



### Join all class:bicycle subkeys and old keys to create a single key for fewer rules needed ###
class:bicycle:roadcycling=-3 | class:bicycle:roadcycling=-2 {set toll=yes}

class:bicycle:touring=3 {set class:bicycle=3}
class:bicycle:touring=2 {set class:bicycle=2}
class:bicycle:touring=-2 {set class:bicycle=-2}
class:bicycle:touring=-3 {set class:bicycle=-3}

class:bicycle:commute=3 {add class:bicycle=2}
class:bicycle:commute=2 | class:bicycle:commute=1 {add class:bicycle=1}
class:bicycle:commute=-3 {add class:bicycle=-3}
class:bicycle:commute=-2 {add class:bicycle=-2}

class:bicycle:touring=1 {add class:bicycle=1}
class:bicycle:touring=0 {add class:bicycle=0}
class:bicycle:touring=-1 {add class:bicycle=-1}
class:bicycle:commute=-1 {add class:bicycle=-1}

class:bicycle:roadcycling=-3 {add class:bicycle=-2}
class:bicycle:roadcycling=-2 {add class:bicycle=-1}
class:bicycle:roadcycling=-1 {add class:bicycle=-1}
class:bicycle:roadcycling=1 {add class:bicycle=1}
class:bicycle:roadcycling=2 {add class:bicycle=1}
class:bicycle:roadcycling=3 {add class:bicycle=2}

class:bicycle:mtb:technical=3 | class:bicycle:mtb:technical=2 | class:bicycle:mtb:technical=1 { set toll=yes; add mkgmap:unpaved=1 }

cycleworth=* {add class:bicycle='${cycleworth}'}
rtc_rate=A {add class:bicycle=2}
rtc_rate=B {add class:bicycle=1}
# rtc_rate=C {add class:bicycle=0}
rtc_rate=D {add class:bicycle=-1}
rtc_rate=E {add class:bicycle=-1}
rtc_rate=F {add class:bicycle=-2}
rtc_rate=XX {add class:bicycle=-3}



class:bicycle=3  & oneway=yes & lanes>1 & ( highway=primary | highway=secondary | highway=tertiary | highway=unclassified ) {set class:bicycle=1; set adjusted=down}
class:bicycle=2  & oneway=yes & lanes>1 & ( highway=primary | highway=secondary | highway=tertiary | highway=unclassified ) {set class:bicycle=1; set adjusted=down}
class:bicycle=1  & oneway=yes & lanes>1 & ( highway=primary | highway=secondary | highway=tertiary | highway=unclassified ) {set class:bicycle=0; set adjusted=down}
class:bicycle=0  & oneway=yes & lanes>1 & ( highway=primary | highway=secondary | highway=tertiary | highway=unclassified ) {set class:bicycle=-2; set adjusted=down}
class:bicycle=-1 & oneway=yes & lanes>1 & ( highway=primary | highway=secondary | highway=tertiary | highway=unclassified ) {set class:bicycle=-2; set adjusted=down}
class:bicycle=-2 & oneway=yes & lanes>1 & ( highway=primary | highway=secondary | highway=tertiary | highway=unclassified ) {set class:bicycle=-3; set adjusted=down}
class:bicycle=-3 & oneway=yes & lanes>1 & ( highway=primary | highway=secondary | highway=tertiary | highway=unclassified ) {set class:bicycle=-3; set adjusted=down}

class:bicycle=3  & source:maxspeed ~ '.*local' & ( highway=primary | highway=secondary | highway=tertiary | highway=unclassified | highway=residential | highway=minor )	& adjusted!=down {set class:bicycle=2; set adjusted=down}
class:bicycle=2  & source:maxspeed ~ '.*local' & ( highway=primary | highway=secondary | highway=tertiary | highway=unclassified | highway=residential | highway=minor )	& adjusted!=down {set class:bicycle=1; set adjusted=down}
class:bicycle=1  & source:maxspeed ~ '.*local' & ( highway=primary | highway=secondary | highway=tertiary | highway=unclassified | highway=residential | highway=minor )	& adjusted!=down {set class:bicycle=0; set adjusted=down}
class:bicycle=0  & source:maxspeed ~ '.*local' & ( highway=primary | highway=secondary | highway=tertiary | highway=unclassified | highway=residential | highway=minor )	& adjusted!=down {set class:bicycle=-1; set adjusted=down}
class:bicycle=-1 & source:maxspeed ~ '.*local' & ( highway=primary | highway=secondary | highway=tertiary | highway=unclassified | highway=residential | highway=minor )	& adjusted!=down {set class:bicycle=-2; set adjusted=down}
class:bicycle=-2 & source:maxspeed ~ '.*local' & ( highway=primary | highway=secondary | highway=tertiary | highway=unclassified | highway=residential | highway=minor )	& adjusted!=down {set class:bicycle=-3; set adjusted=down}
class:bicycle=-3 & source:maxspeed ~ '.*local' & ( highway=primary | highway=secondary | highway=tertiary | highway=unclassified | highway=residential | highway=minor )	& adjusted!=down {set class:bicycle=-3; set adjusted=down}

# class:bicycle=3  & ( source:maxspeed ~ '.*urban' | maxspeed>60 ) 	{set class:bicycle=3; set adjusted=up}
class:bicycle=2  & ( source:maxspeed ~ '.*urban' | maxspeed>60 )  	& adjusted!=down {set class:bicycle=3; set adjusted=up}
class:bicycle=1  & ( source:maxspeed ~ '.*urban' | maxspeed>60 )  	& adjusted!=down {set class:bicycle=2; set adjusted=up}
class:bicycle=0  & ( source:maxspeed ~ '.*urban' | maxspeed>60 )  	& adjusted!=down {set class:bicycle=1; set adjusted=up}
class:bicycle=-1 & ( source:maxspeed ~ '.*urban' | maxspeed>60 )  	& adjusted!=down {set class:bicycle=0; set adjusted=up}
class:bicycle=-2 & ( source:maxspeed ~ '.*urban' | maxspeed>60 )  	& adjusted!=down {set class:bicycle=-1; set adjusted=up}
# class:bicycle=-3 & ( source:maxspeed ~ '.*urban' | maxspeed>60 )  	& adjusted!=down {set class:bicycle=-3; set adjusted=up}


( class:bicycle:commute=-1 | class:bicycle:touring=-1 | class:bicycle=-1) & cycleway=track & class:bicycle>-2 { set class:bicycle=-2 }
( class:bicycle:commute=-2 | class:bicycle:touring=-2 | class:bicycle=-2) & cycleway=track & class:bicycle>-1 { set class:bicycle=-3 }
( class:bicycle:commute=-3 | class:bicycle:touring=-3 ) & cycleway=track 					 				  { set class:bicycle=-3 }

( class:bicycle:commute=3 | class:bicycle:touring=3 ) & cycleway=lane 										{ set class:bicycle=3 }
( class:bicycle:commute=2 | class:bicycle:touring=2 ) & cycleway=lane & adjusted!=down & class:bicycle<2 	{ set class:bicycle=2 }
( class:bicycle:commute=1 | class:bicycle:touring=1 ) & cycleway=lane & adjusted!=down & class:bicycle<1	{ set class:bicycle=1 }

class:bicycle=3 & tracktype=extremecarver {set class:bicycle=-1}
class:bicycle=2 & tracktype=extremecarver {set class:bicycle=-1}
class:bicycle=1 & tracktype=extremecarver {set class:bicycle=-1}
class:bicycle=0 & tracktype=extremecarver {set class:bicycle=-2}
class:bicycle=-1 & tracktype=extremecarver {set class:bicycle=-3}
class:bicycle=-2 & tracktype=extremecarver {set class:bicycle=-3}
 
class:bicycle=3 & tracktype=grade5 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=0}
class:bicycle=2 & tracktype=grade5 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=0}
class:bicycle=1 & tracktype=grade5 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=-1}
class:bicycle=0 & tracktype=grade5 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=-2}
class:bicycle=-1 & tracktype=grade5 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=-2}
class:bicycle=-2 & tracktype=grade5 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=-3}

class:bicycle=3 & tracktype=grade4 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=1}
class:bicycle=2 & tracktype=grade4 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=0}
class:bicycle=1 & tracktype=grade4 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=0}
class:bicycle=0 & tracktype=grade4 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=-1}
class:bicycle=-1 & tracktype=grade4 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=-2}
class:bicycle=-2 & tracktype=grade4 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=-3}

class:bicycle=3 & tracktype=grade3 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=2}
class:bicycle=2 & tracktype=grade3 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=1}
class:bicycle=1 & tracktype=grade3 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=0}
class:bicycle=0 & tracktype=grade3 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=-1}
class:bicycle=-1 & tracktype=grade3 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=-2}
class:bicycle=-2 & tracktype=grade3 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=-3}

class:bicycle=3 & tracktype=grade2 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=2}
class:bicycle=2 & tracktype=grade2 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=1}
class:bicycle=1 & tracktype=grade2 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=0}
class:bicycle=0 & tracktype=grade2 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=-1}
class:bicycle=-1 & tracktype=grade2 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=-2}
class:bicycle=-2 & tracktype=grade2 & highway!=service & highway!=track & highway!=byway & highway!=road & highway!=unsurfaced & highway!=minor & highway!=unclassified {set class:bicycle=-2}


##################### Roundabouts #########################


junction=roundabout & ( highway=motorway_link | highway=motorway ) 				{set roundaboutdone=yes}	[0x28 resolution 20 continue with_actions]
junction=roundabout & ( highway=trunk | highway=trunk_link | motorroad=yes ) 	{set roundaboutdone=yes} 	[0x28 resolution 20 continue with_actions]
junction=roundabout & highway=primary 	& roundaboutdone!=yes					{set roundaboutdone=yes}	[0x02 resolution 20 continue with_actions]
junction=roundabout & highway=secondary 										{set roundaboutdone=yes}	[0x04 resolution 20 continue with_actions]
junction=roundabout & highway=tertiary 											{set roundaboutdone=yes}	[0x05 resolution 21 continue with_actions]
junction=roundabout & highway=unclassified 										{set roundaboutdone=yes}	[0x0b resolution 21 continue with_actions]
junction=roundabout & roundaboutdone!=yes 																	[0x07 resolution 22 continue]

junction=roundabout & ( extremecarver=mr | route=mtb  | extremecarver5=bike | route=bicycle | class:bicycle=3 | class:bicycle=2 | class:bicycle=1 ) & ( highway=primary | highway=secondary ) 	[0x0c road_class=2 road_speed=1 resolution 24 continue]
junction=roundabout & ( extremecarver=mr | route=mtb  | extremecarver5=bike | route=bicycle | class:bicycle=3 | class:bicycle=2 | class:bicycle=1 )			[0x0c road_class=2 road_speed=0 resolution 24 continue]
junction=roundabout & ( highway=primary | highway=secondary | highway=tertiary | highway=unclassified )														[0x0c road_class=1 road_speed=1 resolution 24]
junction=roundabout 																																		[0x0c road_class=1 road_speed=0 resolution 24]



################## Route Preference ##############################

class:bicycle=3 & ( route=bicycle | extremecarver5=bike )										[0x01 road_class=4 road_speed=2 resolution 24 continue]
class:bicycle=2 & ( route=bicycle | extremecarver5=bike )										[0x01 road_class=4 road_speed=2 resolution 24 continue]
class:bicycle=1 & ( route=bicycle | extremecarver5=bike ) & highway=primary						[0x01 road_class=3 road_speed=2 resolution 24 continue]
class:bicycle=0 & ( route=bicycle | extremecarver5=bike ) & highway=primary	& highway!=secondary [0x01 road_class=2 road_speed=2 resolution 24 continue]
# class:bicycle=-1 & ( route=bicycle | extremecarver5=bike )									[0x01 road_class=1 road_speed=1 resolution 24 continue]
# class:bicycle=-2 & ( route=bicycle | extremecarver5=bike )									[0x01 road_class=4 road_speed=2 resolution 24 continue]
# class:bicycle=-3 & ( route=bicycle | extremecarver5=bike )									[0x01 road_class=3 road_speed=2 resolution 24 continue]

class:bicycle=3 & ( route=bicycle | extremecarver5=bike )										[0x01 road_class=3 road_speed=1 resolution 24 continue]
class:bicycle=2 & ( route=bicycle | extremecarver5=bike )										[0x01 road_class=3 road_speed=1 resolution 24 continue]
class:bicycle=1 & ( route=bicycle | extremecarver5=bike )										[0x01 road_class=2 road_speed=1 resolution 24 continue]
class:bicycle=0 & ( route=bicycle | extremecarver5=bike )			{set toll=yes}				[0x01 road_class=1 road_speed=1 resolution 24 continue]

class:bicycle=3 & ( route=bicycle | extremecarver5=bike )										[0x01 road_class=2 road_speed=0 resolution 24 continue]
class:bicycle=2 & ( route=bicycle | extremecarver5=bike )			{set toll=yes}				[0x01 road_class=2 road_speed=0 resolution 24 continue]
class:bicycle=1 & ( route=bicycle | extremecarver5=bike )			{set toll=yes}				[0x01 road_class=1 road_speed=0 resolution 24 continue]
# class:bicycle=0 & ( route=bicycle | extremecarver5=bike )			{set toll=yes}				[0x01 road_class=0 road_speed=1 resolution 24 continue]

class:bicycle=3 & ( route=bicycle | extremecarver5=bike )			{set toll=yes}				[0x01 road_class=1 road_speed=0 resolution 24 continue]
class:bicycle=2 & ( route=bicycle | extremecarver5=bike )			{set toll=yes}				[0x01 road_class=1 road_speed=0 resolution 24 continue]




class:bicycle=3 & route!=bicycle & extremecarver5!=bike & highway!=steps [0x01 road_class=3 road_speed=1 continue]
class:bicycle=3 & route!=bicycle & extremecarver5!=bike & highway!=steps [0x01 road_class=2 road_speed=0 continue]
class:bicycle=2 & route!=bicycle & extremecarver5!=bike & highway!=steps [0x01 road_class=2 road_speed=0 continue]
class:bicycle=3 & route!=bicycle & extremecarver5!=bike & highway!=steps [0x01 road_class=1 road_speed=0 continue]
class:bicycle=2 & route!=bicycle & extremecarver5!=bike & highway!=steps [0x01 road_class=1 road_speed=0 continue]
class:bicycle=1 & route!=bicycle & extremecarver5!=bike & highway!=steps [0x01 road_class=1 road_speed=0 continue]

( route=bicycle | extremecarver5=bike )	& class:bicycle!=* 										[0x01 road_class=2 road_speed=0 resolution 24 continue]
( route=bicycle | extremecarver5=bike )	& class:bicycle!=* 					{set toll=yes}		[0x01 road_class=3 road_speed=0 resolution 24 continue]
( route=bicycle | extremecarver5=bike ) & class:bicycle!=* & highway!=primary 	{set toll=yes}	[0x01 road_class=4 road_speed=1 resolution 24 continue]
( highway=cycleway | highway=residential | highway=unclassified | highway=minor | highway=tertiary ) & class:bicycle!=* & (route=mtb | extremecarver6=mr) & route!=bicycle & extremecarver5!=bike {set toll=yes} [0x01 road_class=4 road_speed=3 resolution 24 continue]
( highway=cycleway | highway=track | highway=residential | highway=unclassified | highway=path | highway=minor | highway=byway | highway=service | highway=tertiary ) & class:bicycle!=* & ( route=bicycle | extremecarver5=bike	)  {set toll=yes} [0x01 road_class=4 road_speed=3 resolution 24 continue]
( highway=cycleway | highway=track | highway=path | highway=minor | highway=byway | highway=service ) & class:bicycle!=* & ( route=bicycle | extremecarver5=bike	) {set toll=yes} [0x01 road_class=4 road_speed=2 resolution 24 continue]





############################# Main Section - Streets #######################################

highway=pedestrian & ( extremecarver5=bike | route=bicycle )					& bridge=yes  	[0xb1c road_class=2 road_speed=1 resolution 22]
highway=pedestrian & ( bicycle=yes | bicycle=permissive | bicycle=designated )	& bridge=yes  	[0xb1c road_class=2 road_speed=1 resolution 22]
highway=pedestrian & bicycle=nope												& bridge=yes  	[0xb1c road_class=0 road_speed=1 resolution 24]
highway=pedestrian 																& bridge=yes  	[0xb1c road_class=1 road_speed=1 resolution 22]
highway=footway & ( extremecarver5=bike | route=bicycle ) 						& bridge=yes  	[0x16 road_class=4 road_speed=0 resolution 22]


highway=pedestrian & ( extremecarver5=bike | route=bicycle )  					[0xb1c resolution 23-21]
highway=pedestrian & class:bicycle=3 											[0xb1c road_class=2 road_speed=2 resolution 22]
highway=pedestrian & class:bicycle=2 											[0xb1c road_class=2 road_speed=2 resolution 22]
highway=pedestrian & class:bicycle=1 											[0xb1c road_class=1 road_speed=1 resolution 22]
highway=pedestrian & ( extremecarver5=bike | route=bicycle )  					[0xb1c road_class=1 road_speed=1 resolution 24]
highway=pedestrian & area=yes													[0x01 road_class=0 road_speed=0 resolution 24]
highway=pedestrian & ( class:bicycle=-3 | class:bicycle=-2 )					[0xb1c road_class=0 road_speed=0 resolution 22]
highway=pedestrian & ( bicycle=yes | bicycle=permissive | bicycle=designated )	[0xb1c road_class=1 road_speed=0 resolution 22]
highway=pedestrian & bicycle=nope	{add taxi=no; add mkgmap:unpaved=1}			[0x602 road_class=0 road_speed=0 resolution 22]
highway=pedestrian 	{add taxi=no; add mkgmap:unpaved=1}							[0xb1c road_class=0 road_speed=0 resolution 22]



# highway=motorway & int_ref=*	[0x1e resolution 14-14 continue]
highway=motorway 				[0x1e resolution 21-15 continue]
highway=motorway				[0x10509 resolution 23-22 continue]
highway=motorway				[0x1050a resolution 24]
highway=motorway_link | highway=motorway_junction [0x10510 resolution 21-20 continue]
highway=motorway_link | highway=motorway_junction [0x10511 resolution 23-22 continue]
highway=motorway_link | highway=motorway_junction [0x10512 resolution 24]

highway=trunk & int_ref=* 		[0x1050c resolution 17-16 continue]
highway=trunk		& bicycle=yes & motorroad!=yes {set delivery=no}	[0x01 road_class=0 road_speed=0 resolution 24 continue]
highway=trunk_link 	& bicycle=yes & motorroad!=yes {set delivery=no}	[0x01 road_class=0 road_speed=0 resolution 24 continue]
highway=trunk 					[0x1050c resolution 21-18 continue]
highway=trunk					[0x10418 resolution 23-22 continue]
highway=trunk					[0x28 resolution 24]
highway=trunk_link 				[0x10513 resolution 21-20 continue]
highway=trunk_link 				[0x10514 resolution 23-22 continue]
highway=trunk_link 				[0x10515 resolution 24]

motoroad=yes { set motorroad=yes}
highway=primary & motorroad=yes [0x10508 resolution 18-18 continue]
highway=* & motorroad=yes 		[0x10508 resolution 21-19 continue]
highway=* & motorroad=yes 		[0x1050b resolution 22]

highway=* & highway!=proposed & proposed!=* & bridge=yes {set access=yes} [0x01 road_class=2 road_speed=0 resolution 24 continue]
highway=* & highway!=proposed & proposed!=* & tunnel=yes [0x01 road_class=1 road_speed=0 resolution 24 continue]

highway=* 				& ( extremecarver5=bike | route=bicycle )	& bridge=yes {set access=yes}	[0x01 road_class=4 road_speed=0 resolution 24 continue]
highway=* 				& ( extremecarver5=bike | route=bicycle )	& bridge=yes {set access=yes}	[0x01 road_class=3 road_speed=0 resolution 24 continue]

highway=unsurfaced 				& ( extremecarver5=bike | route=bicycle )	& bridge=yes {set access=yes}	[0x10804 resolution 22]
highway=unclassified 			& ( extremecarver5=bike | route=bicycle )	& bridge=yes {set access=yes}	[0x0b road_class=3 road_speed=1 resolution 22]
highway=minor 					& ( extremecarver5=bike | route=bicycle )	& bridge=yes {set access=yes} 	[0x0b road_class=4 road_speed=1 resolution 22]
highway=byway 					& ( extremecarver5=bike | route=bicycle )	& bridge=yes {set access=yes}	[0x0a road_class=3 road_speed=1 resolution 22]
highway=bridleway 				& ( extremecarver5=bike | route=bicycle )	& bridge=yes {set access=yes} 	[0x07 road_class=3 road_speed=1 resolution 22]
highway=service & access=yes	& ( extremecarver5=bike | route=bicycle )	& bridge=yes {set access=yes}	[0x10 road_class=3 road_speed=1 resolution 22]
highway=service 				& ( extremecarver5=bike | route=bicycle )	& bridge=yes {set access=yes}	[0x10 road_class=3 road_speed=1 resolution 22]
highway=road 					& ( extremecarver5=bike | route=bicycle )	& bridge=yes {set access=yes} 	[0x0b road_class=3 road_speed=1 resolution 22]

highway=unsurfaced 						& bridge=yes {set access=yes} 	[0x01 road_class=2 road_speed=0 resolution 24 continue]
highway=unsurfaced 						& bridge=yes {set access=yes} 	[0x10804 resolution 22]
highway=unclassified 					& bridge=yes {set access=yes}   [0x0b road_class=3 road_speed=1 resolution 22]
highway=minor 							& bridge=yes {set access=yes} 	[0x0b road_class=4 road_speed=1 resolution 22]
highway=byway 							& bridge=yes {set access=yes}	[0x0a road_class=3 road_speed=1 resolution 22]
highway=bridleway 						& bridge=yes {set access=yes}	[0x07 road_class=3 road_speed=1 resolution 22]
highway=service & access=yes			& bridge=yes  					[0x10 road_class=3 road_speed=1 resolution 22]
highway=service & access=no	& bicycle!=yes	& bridge=yes {set access=yes; add mkgmap:unpaved=1} [0x10 road_class=1 road_speed=1 resolution 22]
highway=service 						& bridge=yes {set access=yes} [0x10 road_class=3 road_speed=0 resolution 22]
highway=construction					& bridge=yes  					[0x10503 resolution 22]
highway=road 							& bridge=yes {set access=yes}	[0x0b road_class=3 road_speed=1 resolution 22]


highway=path 		& ( extremecarver5=bike | route=bicycle )	& bridge=yes  {set access=yes}	[0x16 road_class=3 road_speed=1 resolution 22]
highway=cycleway	& ( extremecarver5=bike | route=bicycle )	& bridge=yes  {set access=yes}	[0x03 road_class=4 road_speed=1 resolution 22]

highway=track 		& ( extremecarver5=bike | route=bicycle )	& bridge=yes  {set access=yes}	[0x01 road_class=3 road_speed=1 resolution 24 continue]
highway=footway 	& ( extremecarver5=bike | route=bicycle )	& bridge=yes  {set access=yes}	[0x01 road_class=3 road_speed=1 resolution 24 continue]
highway=track 		& ( extremecarver5=bike | route=bicycle )	& bridge=yes  [0x10804 resolution 22]
highway=footway 	& ( extremecarver5=bike | route=bicycle )	& bridge=yes  [0x10803 resolution 22]


highway=path 							& bridge=yes  	{set access=yes}			[0x16 road_class=2 road_speed=1 resolution 22]
highway=cycleway						& bridge=yes  	{set access=yes}			[0x03 road_class=3 road_speed=1 resolution 22]


highway=track | highway=footway			& bridge=yes  	{set access=yes}			[0x01 road_class=2 road_speed=1 resolution 24 continue]
highway=track 							& bridge=yes  								[0x10804 resolution 22]
highway=footway 						& bridge=yes  								[0x10803 resolution 22]

service=parking_aisle | service=parkingaisle | highway=parking_aisle  [0x202 road_class=0 road_speed=0 resolution 24]




highway=primary & importantprimary=yes						[0x1050d resolution 18-18 continue]
highway=primary & oneway=yes & lanes>1 {set no0x150e=yes}	[0x10518 resolution 21-19 continue]

highway=* & ref=* {set namecopy='${name}' }
highway=* & ref=* & (extremecarver=mr | route=mtb)				{name '${ref|highway-symbol:box:7:5} ${name}'  | '${ref|highway-symbol:box:7:5}'  | '${name}'; add display_name='${namecopy}'; set shieldpresent=yes}
highway=* & ref=* & extremecarver5=bike & shieldpresent!=yes	{name '${ref|highway-symbol:box:7:5} ${name}'  | '${ref|highway-symbol:box:7:5}'  | '${name}'; add display_name='${namecopy}'; set shieldpresent=yes}
highway=* & ref=* & shieldpresent!=yes							{name '${ref|highway-symbol:oval:7:5} ${name}' | '${ref|highway-symbol:oval:7:5}' | '${name}'; add display_name='${namecopy}'}

highway=primary & oneway=yes & lanes>1 						[0x10518 resolution 23-22 continue]
highway=primary & no0x150e!=yes								[0x1050d resolution 19-19 continue]
highway=primary_link 										[0x10517 resolution 21-19 continue]
highway=primary_link 										[0x10518 resolution 23-22 continue]



highway=primary 		[0x1050d resolution 20-20 continue]
highway=primary 		[0x10516 resolution 23-21 continue]







( highway=primary | highway=primary_link ) 	& ( extremecarver=mr | route=mtb )							& bridge=yes  	[0x02 road_class=4 road_speed=1 resolution 24]
( highway=primary | highway=primary_link ) 	& ( extremecarver5=bike | route=bicycle )					& bridge=yes 	[0x02 road_class=4 road_speed=1 resolution 24]
( highway=primary | highway=primary_link ) 	& cycleway=lane												& bridge=yes 	[0x02 road_class=3 road_speed=1 resolution 24]
( highway=primary | highway=primary_link ) 	& cycleway=track											& bridge=yes  	[0x02 road_class=3 road_speed=1 resolution 24]
highway=primary  	& ( bicycle=yes | bicycle=permissive | bicycle=designated )							& bridge=yes   	[0x02 road_class=3 road_speed=2 resolution 24]
( highway=primary | highway=primary_link ) 	& bicycle=nope & bridge=yes 				{set delivery=no}	[0x02 road_class=0 road_speed=1 resolution 24]
( highway=primary | highway=primary_link ) 	& bicycle=nope & tunnel=yes 				{set delivery=no}	[0x02 road_class=0 road_speed=1 resolution 24]
( highway=primary | highway=primary_link ) 	& ( bicycle=yes | bicycle=permissive | bicycle=designated )	& tunnel=yes   	[0x02 road_class=4 road_speed=1 resolution 24 continue]
( highway=primary | highway=primary_link ) 	& ( bicycle=yes | bicycle=permissive | bicycle=designated )	& tunnel=yes   	[0x02 road_class=3 road_speed=1 resolution 24]
( highway=primary | highway=primary_link ) 				 			& tunnel=yes 										[0x02 road_class=3 road_speed=1 resolution 24]
( highway=primary | highway=primary_link )																& bridge=yes  	[0x02 road_class=3 road_speed=1 resolution 24]




( highway=primary | highway=primary_link ) 	& class:bicycle=3 [0x02 road_class=3 road_speed=2 resolution 24 continue]
( highway=primary | highway=primary_link ) 	& class:bicycle=3 [0x02 road_class=2 road_speed=2 resolution 24]
( highway=primary | highway=primary_link ) 	& class:bicycle=2 [0x02 road_class=2 road_speed=2 resolution 24]
( highway=primary | highway=primary_link ) 	& class:bicycle=1 [0x02 road_class=2 road_speed=1 resolution 24]
( highway=primary | highway=primary_link ) 	& class:bicycle=-1 [0x02 road_class=0 road_speed=1 resolution 24]
( highway=primary | highway=primary_link ) 	& class:bicycle=-2 [0x02 road_class=0 road_speed=0 resolution 24]
( highway=primary | highway=primary_link ) 	& class:bicycle=-3 [0x02 road_class=0 road_speed=0 resolution 24]


highway=primary 	&	( extremecarver5=bike | route=bicycle )										{set toll=yes}	[0x02 road_class=3 road_speed=2 resolution 24 continue]
highway=primary 	&	( extremecarver=mr | route=mtb ) & route!=bicycle & extremecarver5!=bike 	{set toll=yes}	[0x02 road_class=4 road_speed=2 resolution 24 continue]

highway=primary 	& oneway=yes & cycleway=track & source:maxspeed ~ '.*local'		[0x02 road_class=1 road_speed=1 resolution 24]
highway=primary 	& oneway=yes & cycleway=lane & source:maxspeed ~ '.*local'		[0x02 road_class=1 road_speed=1 resolution 24]
highway=primary 	& oneway=yes & cycleway=track		[0x02 road_class=2 road_speed=1 resolution 24]
highway=primary 	& oneway=yes & cycleway=lane		[0x02 road_class=2 road_speed=1 resolution 24]
highway=primary 	& oneway=yes & lanes>1				[0x02 road_class=0 road_speed=1 resolution 24]
highway=primary 	& importantprimary=yes 				[0x02 road_class=0 road_speed=1 resolution 24]
highway=primary 	& source:maxspeed ~ '.*local'		[0x02 road_class=1 road_speed=2 resolution 24]
highway=primary 	&   ( bicycle=designated ) 			[0x02 road_class=3 road_speed=2 resolution 24 continue]
highway=primary 	& ( cycleway=track ) & ( source:maxspeed ~ '.*urban' | maxspeed>60 )			{set toll=yes}		[0x01 road_class=3 road_speed=3 resolution 24 continue]
highway=primary 	& ( cycleway=track | cycleway=lane ) & ( source:maxspeed ~ '.*urban' | maxspeed>60 )	[0x02 road_class=2 road_speed=2 resolution 24]
( highway=primary | highway=primary_link ) 	& bicycle=nope 			[0x02 road_class=0 road_speed=0 resolution 24]
highway=primary		& source:maxspeed ~ '.*urban'					[0x02 road_class=1 road_speed=2 resolution 24]
highway=primary 	& oneway=yes									[0x02 road_class=1 road_speed=1 resolution 24]
highway=primary		& maxspeed>60									[0x02 road_class=1 road_speed=2 resolution 24]
highway=primary 	&   ( bicycle=designated ) 						[0x02 road_class=2 road_speed=2 resolution 24]
highway=primary		& ( maxspeed=* & maxspeed<61 & maxspeed>39 )	[0x02 road_class=1 road_speed=1 resolution 24]
highway=primary 	& maxspeed!=*									[0x02 road_class=1 road_speed=2 resolution 24]
highway=primary 	&	cycleway=lane								[0x02 road_class=1 road_speed=2 resolution 24]
highway=primary 	&	cycleway=track								[0x02 road_class=1 road_speed=2 resolution 24]
highway=primary 													[0x02 road_class=1 road_speed=1 resolution 24]
highway=primary_link 												[0x02 road_class=2 road_speed=1 resolution 24]




# Search for ref to not start with "lf" ref ~ '[^LF].*' highway=secondary 	& oneway=yes & lanes>1

highway=secondary & importantsecondary=yes						[0x1051e resolution 19-19 continue]
highway=secondary & oneway=yes & lanes>1 {set no0x150e=yes}		[0x10519 resolution 23-20 continue]
highway=secondary & no0x150e!=yes								[0x1051e resolution 20-20 continue]
highway=secondary & no0x150e!=yes								[0x1050e resolution 23-21 continue]
highway=secondary_link 											[0x10519 resolution 21-20 continue]
highway=secondary_link 											[0x1051a resolution 23-22 continue]


highway=secondary 	&	( extremecarver=mr | route=mtb )		& bridge=yes  		[0x04 road_class=4 road_speed=2 resolution 24]
highway=secondary 	&	( extremecarver5=bike | route=bicycle ) & bridge=yes  		[0x04 road_class=4 road_speed=2 resolution 24]
highway=secondary 	& bicycle=nope & bridge=yes  {set delivery=no}					[0x04 road_class=0 road_speed=1 resolution 24]
highway=secondary 											& bridge=yes  			[0x04 road_class=3 road_speed=2 resolution 24]



( highway=secondary | highway=secondary_link ) 	& class:bicycle=3 	[0x04 road_class=4 road_speed=2 resolution 24 continue]
( highway=secondary | highway=secondary_link ) 	& class:bicycle=3 	[0x04 road_class=3 road_speed=1 resolution 24]
( highway=secondary | highway=secondary_link ) 	& class:bicycle=2 	[0x04 road_class=3 road_speed=2 resolution 24]
( highway=secondary | highway=secondary_link ) 	& class:bicycle=1 	[0x04 road_class=3 road_speed=2 resolution 24]
( highway=secondary | highway=secondary_link ) 	& class:bicycle=-1 	[0x04 road_class=2 road_speed=1 resolution 24]
( highway=secondary | highway=secondary_link ) 	& class:bicycle=-2 	[0x04 road_class=1 road_speed=0 resolution 24]
( highway=secondary | highway=secondary_link ) 	& class:bicycle=-3 	[0x04 road_class=0 road_speed=0 resolution 24]

highway=secondary 	& ( extremecarver=mr | route=mtb ) & oneway=yes 	   		 [0x04 road_class=2 road_speed=2 resolution 24]
highway=secondary 	& ( extremecarver5=bike | route=bicycle ) & oneway=yes  	 [0x04 road_class=2 road_speed=2 resolution 24]
highway=secondary 	&	( extremecarver=mr | route=mtb )						 [0x04 road_class=3 road_speed=2 resolution 24]
highway=secondary 	&	( extremecarver5=bike | route=bicycle ) 				 [0x04 road_class=3 road_speed=2 resolution 24]
highway=secondary 	& oneway=yes & lanes>1										 [0x04 road_class=0 road_speed=1 resolution 24]
highway=secondary	& source:maxspeed ~ '.*local'								 [0x04 road_class=2 road_speed=1 resolution 24]
highway=secondary 	& ( cycleway=track | cycleway=lane ) & ( source:maxspeed ~ '.*urban' | maxspeed>60 ) {set toll=yes} [0x01 road_class=3 road_speed=2 resolution 24 continue]
highway=secondary 	& ( cycleway=track | cycleway=lane ) & ( source:maxspeed ~ '.*urban' | maxspeed>60 ) [0x04 road_class=2 road_speed=2 resolution 24]
highway=secondary 	& ( bicycle=yes | bicycle=permissive | bicycle=designated )	 [0x04 road_class=2 road_speed=2 resolution 24]
highway=secondary 	& bicycle=nope 												 [0x04 road_class=0 road_speed=0 resolution 24]
highway=secondary 	& source:maxspeed ~ '.*urban'								 [0x04 road_class=2 road_speed=2 resolution 24]
highway=secondary 	& maxspeed>60												 [0x04 road_class=2 road_speed=2 resolution 24]
highway=secondary 	& oneway=yes & cycleway=track & ( maxspeed>50 | maxspeed!=*) [0x04 road_class=2 road_speed=2 resolution 24]
highway=secondary 	& oneway=yes												 [0x04 road_class=1 road_speed=2 resolution 24]
highway=secondary 	& cycleway=lane												 [0x04 road_class=2 road_speed=2 resolution 24]
highway=secondary 	& cycleway=track											 [0x04 road_class=2 road_speed=2 resolution 24]
highway=secondary 	& maxspeed=* & maxspeed!=50 & maxspeed!=60 & maxspeed!=40	 [0x04 road_class=2 road_speed=2 resolution 24]
highway=secondary 	& maxspeed!=* 												 [0x04 road_class=2 road_speed=1 resolution 24]
highway=secondary 																 [0x04 road_class=2 road_speed=1 resolution 24]
highway=secondary_link															 [0x04 road_class=2 road_speed=1 resolution 24]




highway=tertiary 		[0x1050f resolution 23-20 continue]
highway=tertiary_link 	[0x1051b resolution 23-21 continue]

highway=tertiary 	&	( extremecarver=mr | route=mtb ) & bridge=yes   								[0x05 road_class=4 road_speed=1 resolution 24]
highway=tertiary    & ( extremecarver5=bike | route=bicycle ) & bridge=yes   							[0x05 road_class=4 road_speed=1 resolution 24]
highway=tertiary 	&	cycleway=lane						& bridge=yes  								[0x05 road_class=3 road_speed=1 resolution 24]
highway=tertiary 	&	cycleway=track						& bridge=yes 								[0x05 road_class=3 road_speed=1 resolution 24]
highway=tertiary 	& ( bicycle=yes | bicycle=permissive | bicycle=designated ) 	& bridge=yes  		[0x05 road_class=3 road_speed=1 resolution 24]
highway=tertiary 	& 	bicycle=nope							& bridge=yes  {add mkgmap:unpaved=1}	[0x05 road_class=1 road_speed=1 resolution 24]
highway=tertiary 											& bridge=yes  								[0x05 road_class=4 road_speed=1 resolution 24]




highway=tertiary 							 	& class:bicycle=3 	[0x04 road_class=4 road_speed=3 resolution 24 continue]
( highway=tertiary | highway=tertiary_link ) 	& class:bicycle=3 	[0x04 road_class=4 road_speed=2 resolution 24]
( highway=tertiary | highway=tertiary_link ) 	& class:bicycle=2 	[0x04 road_class=4 road_speed=2 resolution 24]
( highway=tertiary | highway=tertiary_link ) 	& class:bicycle=1 	[0x04 road_class=3 road_speed=2 resolution 24]
( highway=tertiary | highway=tertiary_link ) 	& class:bicycle=-1 	[0x04 road_class=2 road_speed=2 resolution 24]
( highway=tertiary | highway=tertiary_link ) 	& class:bicycle=-2 	[0x04 road_class=1 road_speed=1 resolution 24]
( highway=tertiary | highway=tertiary_link ) 	& class:bicycle=-3 	[0x04 road_class=0 road_speed=0 resolution 24]

highway=tertiary 	& ( cycleway=track | cycleway=lane ) & ( source:maxspeed ~ '.*urban' | maxspeed>60 ) {set toll=yes} [0x01 road_class=4 road_speed=2 resolution 24 continue]
highway=tertiary 	& ( cycleway=track | cycleway=lane ) & ( source:maxspeed ~ '.*urban' | maxspeed>60 ) [0x04 road_class=3 road_speed=2 resolution 24]
highway=tertiary 	& ( extremecarver=mr | route=mtb )	& oneway=yes  									[0x05 road_class=4 road_speed=2 resolution 24]
highway=tertiary   	& ( extremecarver5=bike | route=bicycle )	& oneway=yes  							[0x05 road_class=4 road_speed=2 resolution 24]
highway=tertiary 	& oneway=yes & cycleway=track														[0x05 road_class=3 road_speed=2 resolution 24]
highway=tertiary	& oneway=yes & lanes>1										 						[0x05 road_class=2 road_speed=2 resolution 24]
highway=tertiary 	& source:maxspeed ~ '.*local' & cycleway=track				 						[0x05 road_class=1 road_speed=2 resolution 24]
highway=tertiary	& source:maxspeed ~ '.*local'														[0x05 road_class=3 road_speed=2 resolution 24]
highway=tertiary 	& oneway=yes																		[0x05 road_class=3 road_speed=2 resolution 24]
highway=tertiary 	&	( extremecarver=mr | route=mtb )	 											[0x05 road_class=4 road_speed=2 resolution 24]
highway=tertiary  	& ( extremecarver5=bike | route=bicycle )	 										[0x05 road_class=4 road_speed=2 resolution 24]
highway=tertiary 	&	cycleway=lane																	[0x05 road_class=4 road_speed=2 resolution 24]
highway=tertiary 	&	cycleway=track																	[0x05 road_class=3 road_speed=2 resolution 24]
highway=tertiary 	& ( bicycle=yes | bicycle=permissive | bicycle=designated ) 						[0x05 road_class=4 road_speed=2 resolution 24]
highway=tertiary 	& 	bicycle=nope	{add mkgmap:unpaved=1}											[0x05 road_class=1 road_speed=1 resolution 24]
highway=tertiary 	& source:maxspeed ~ '.*urban'								 						[0x05 road_class=4 road_speed=2 resolution 24]
highway=tertiary 	& maxspeed!=50 & maxspeed!=40								 						[0x05 road_class=4 road_speed=2 resolution 24]
highway=tertiary 																						[0x05 road_class=3 road_speed=2 resolution 24]
highway=tertiary_link 																					[0x05 road_class=3 road_speed=1 resolution 24]


highway=residential & ( extremecarver5=bike | route=bicycle | bridge=yes )  			[0x10308 resolution 21-21 continue]
highway=residential 	& class:bicycle=3 	[0x07 road_class=4 road_speed=3 resolution 24 continue]
highway=residential  	& class:bicycle=3 	[0x07 road_class=4 road_speed=2 resolution 22]
highway=residential  	& class:bicycle=2 	[0x07 road_class=4 road_speed=2 resolution 22]
highway=residential		& class:bicycle=*	[0x10308 resolution 22-22 continue]
highway=residential  	& class:bicycle=1 	[0x07 road_class=3 road_speed=2 resolution 23]
highway=residential  	& class:bicycle=-1 	[0x07 road_class=2 road_speed=1 resolution 23]
highway=residential  	& class:bicycle=-2 	[0x07 road_class=1 road_speed=1 resolution 23]
highway=residential 	& class:bicycle=-3 	[0x07 road_class=0 road_speed=0 resolution 23]


highway=residential & ( extremecarver5=bike | route=bicycle )  		{set toll=yes}		[0x07 road_class=3 road_speed=2 resolution 24 continue]
highway=residential & ( extremecarver=mr | route=mtb )	  			{set toll=yes}		[0x07 road_class=3 road_speed=2 resolution 24 continue]
highway=residential & ( extremecarver5=bike | route=bicycle )  							[0x07 road_class=2 road_speed=2 resolution 22]
highway=residential & ( extremecarver=mr | route=mtb )	  								[0x07 road_class=2 road_speed=2 resolution 22]

highway=residential & bridge=yes  														[0x10308 resolution 21-21 continue]
highway=residential																		[0x10308 resolution 22-22 continue]
highway=residential																		[0x07 resolution 23-23 continue]

highway=residential & cycleway=lane							& bridge=yes   				[0x07 road_class=3 road_speed=2 resolution 24]
highway=residential & cycleway=track						& bridge=yes  				[0x07 road_class=3 road_speed=2 resolution 24]
highway=residential &  bicycle=designated	& bridge=yes  				  				[0x07 road_class=3 road_speed=2 resolution 24]
highway=residential &  bicycle=nope	& bridge=yes  			{add mkgmap:unpaved=1}		[0x07 road_class=1 road_speed=1 resolution 24]
highway=residential 										& bridge=yes  				[0x07 road_class=3 road_speed=2 resolution 24]
highway=residential & ( route=bicycle | route=mtb | extremecarver6=* | tracktype=* | sac_scale=* | mtb:scale=* | mtb:scale:uphill=* | smoothness=* | bicycle=* )	[0x07 road_class=3 road_speed=2 resolution 24]
highway=residential & ( source:maxspeed ~ '.*urban' | maxspeed>50 )						[0x07 road_class=2 road_speed=2 resolution 24]
highway=residential & maxspeed<51 & maxspeed>30											[0x07 road_class=0 road_speed=1 resolution 24]
highway=residential & maxspeed<31														[0x07 road_class=0 road_speed=1 resolution 24]
highway=residential & cycleway=lane														[0x07 road_class=1 road_speed=1 resolution 24]
highway=residential & cycleway=track													[0x07 road_class=1 road_speed=1 resolution 24]
highway=residential &  bicycle=designated	 											[0x07 road_class=3 road_speed=2 resolution 24]
highway=residential &  bicycle=nope	{add mkgmap:unpaved=1}								[0x07 road_class=0 road_speed=1 resolution 24]





highway=living_street 	& ( extremecarver5=bike | route=bicycle | bridge=yes )  							[0x10e07 resolution 21-21 continue]
highway=living_street 																						[0x10e07 resolution 22 continue]
highway=living_street 	& class:bicycle=3 	[0x01 road_class=3 road_speed=2 resolution 24 continue]
highway=living_street  	& class:bicycle=3 	[0x01 road_class=3 road_speed=1 resolution 24]
highway=living_street  	& class:bicycle=2 	[0x01 road_class=3 road_speed=1 resolution 24]
highway=living_street  	& class:bicycle=1 	[0x01 road_class=2 road_speed=1 resolution 24]
highway=living_street  	& class:bicycle=-1 	[0x01 road_class=0 road_speed=1 resolution 24]
highway=living_street  	& class:bicycle=-2 	[0x01 road_class=0 road_speed=0 resolution 24]
highway=living_street 	& class:bicycle=-3 	[0x01 road_class=0 road_speed=0 resolution 24]

highway=living_street & ( extremecarver=mr | route=mtb )	 	{set oneway=no; set toll=yes} 										[0x01 road_class=3 road_speed=1 resolution 24 continue]
highway=living_street & ( extremecarver5=bike | route=bicycle ) {set oneway=no; set toll=yes} 										[0x01 road_class=3 road_speed=1 resolution 24 continue]
highway=living_street & ( extremecarver=mr | route=mtb )	 	{set oneway=no} 													[0x01 road_class=2 road_speed=1 resolution 24]
highway=living_street & ( extremecarver5=bike | route=bicycle ) {set oneway=no} 													[0x01 road_class=2 road_speed=1 resolution 24]
highway=living_street & cycleway=* 								& bridge=yes {set oneway=no} 										[0x01 road_class=3 road_speed=1 resolution 24]
highway=living_street & bicycle=designated 						& bridge=yes  {set oneway=no}										[0x01 road_class=3 road_speed=1 resolution 24]
highway=living_street & ( bicycle=yes | bicycle=permissive ) 	& bridge=yes  {set oneway=no}										[0x01 road_class=3 road_speed=1 resolution 24]
highway=living_street & bicycle=nope							& bridge=yes  {set oneway=no; add taxi=no; add mkgmap:unpaved=1}	[0xb1a road_class=1 road_speed=1 resolution 24]
highway=living_street 											& bridge=yes  {set oneway=no}										[0xb1a road_class=3 road_speed=1 resolution 24]

highway=living_street & ( cycleway=* &	( bicycle=yes | bicycle=permissive | bicycle=designated ))  {set oneway=no; add taxi=no} 	[0x01 road_class=2 road_speed=2 resolution 24]
highway=living_street & cycleway=* 																	{set oneway=no; add taxi=no} 	[0x01 road_class=2 road_speed=1 resolution 24]
highway=living_street & bicycle=designated 															{set oneway=no}					[0x01 road_class=2 road_speed=1 resolution 24]
highway=living_street & ( bicycle=yes | bicycle=permissive ) 										{set oneway=no; add taxi=no} 	[0x01 road_class=1 road_speed=1 resolution 24]
highway=living_street & bicycle=nope													{set oneway=no; add taxi=no} 	[0xb1a road_class=0 road_speed=0 resolution 24]
highway=living_street 																				{set oneway=no; add taxi=no} 	[0xb1a road_class=0 road_speed=1 resolution 24]



highway=steps 	& ( extremecarver5=bike | route=bicycle | bridge=yes )  	[0x08 resolution 21-21 continue]
highway=steps 	& class:bicycle!=-3 										[0x08 resolution 22]
highway=steps 	& class:bicycle=3 	[0x01 road_class=2 road_speed=1 resolution 24 continue]
highway=steps  	& class:bicycle=3 	[0x01 road_class=2 road_speed=0 resolution 24]
highway=steps  	& class:bicycle=2 	[0x01 road_class=1 road_speed=0 resolution 24]
highway=steps  	& class:bicycle=1 	[0x01 road_class=1 road_speed=0 resolution 24]
highway=steps  	& class:bicycle=-1 	[0x01 road_class=0 road_speed=0 resolution 24]
highway=steps  	& class:bicycle=-2 	[0x01 road_class=0 road_speed=0 resolution 24]
highway=steps 	& class:bicycle=-3 	[0x08 resolution 23]

highway=steps 	& bridge=yes 									[0x08 road_class=1 road_speed=0 resolution 24]
highway=steps 	& ( extremecarver5=bike | route=bicycle )  		[0x08 road_class=1 road_speed=0 resolution 24]
highway=steps 	&	( extremecarver=mr | route=mtb )   			[0x08 road_class=1 road_speed=0 resolution 24]
highway=steps 													[0x08 road_class=0 road_speed=0 resolution 24]


highway=mini_roundabout & 	(route=mtb | route=bicycle | extremecarver6=*)		[0x07 road_class=2 road_speed=1 resolution 21]
highway=mini_roundabout 														[0x07 road_class=1 road_speed=0 resolution 22]
highway=roundabout & 		(route=mtb | route=bicycle | extremecarver6=*)		[0x07 road_class=2 road_speed=1 resolution 21]
highway=roundabout 																[0x07 road_class=1 road_speed=0 resolution 22]
junction=roundabout & 		(route=mtb | route=bicycle | extremecarver6=*)		[0x07 road_class=2 road_speed=1 resolution 21]
junction=roundabout 															[0x07 road_class=1 road_speed=0 resolution 22]





highway=cycleway	& class:bicycle=3 	[0x01 road_class=4 road_speed=3 resolution 24 continue]
highway=cycleway	& class:bicycle=3 	[0x03 road_class=4 road_speed=2 resolution 22]
highway=cycleway	& class:bicycle=2 	[0x03 road_class=4 road_speed=3 resolution 24 continue]
highway=cycleway	& class:bicycle=2 	[0x03 road_class=4 road_speed=2 resolution 22]
highway=cycleway	& class:bicycle=1 	[0x03 road_class=4 road_speed=3 resolution 24 continue]
highway=cycleway	& class:bicycle=1 	[0x03 road_class=4 road_speed=2 resolution 22]
highway=cycleway	& class:bicycle=-1 	[0x16 road_class=2 road_speed=1 resolution 22]
highway=cycleway	& class:bicycle=-2 	[0x0e road_class=1 road_speed=1 resolution 22]
highway=cycleway	& class:bicycle=-3 	[0x12 road_class=0 road_speed=0 resolution 22]


highway=cycleway & tracktype=grade4													[0x0f road_class=1 road_speed=0 resolution 22]
highway=cycleway & tracktype=grade5													[0x12 road_class=0 road_speed=0 resolution 22]
highway=cycleway & ( tracktype=extremecarver & bicycle=designated ) 				[0x12 road_class=0 road_speed=0 resolution 22]
highway=cycleway & ( tracktype=grade2 & bicycle=designated )						[0x16 road_class=1 road_speed=1 resolution 22]
highway=cycleway & ( tracktype=grade2 & ( bicycle=yes | bicycle=permissive ))		[0x16 road_class=1 road_speed=1 resolution 22]
highway=cycleway & ( tracktype=grade3 & ( bicycle=yes | bicycle=permissive ))		[0x0e road_class=1 road_speed=1 resolution 22]
highway=cycleway & ( tracktype=grade2 & bicycle=nope )	{add mkgmap:unpaved=1}		[0x16 road_class=0 road_speed=1 resolution 22]
highway=cycleway & ( tracktype=grade3 & bicycle=nope )	{add mkgmap:unpaved=1}		[0x0e road_class=0 road_speed=0 resolution 22]
highway=cycleway & tracktype=grade3													[0x0e road_class=1 road_speed=1 resolution 22]
highway=cycleway & tracktype=grade2 												[0x16 road_class=1 road_speed=1 resolution 22]
highway=cycleway & sac_scale=hiking													[0x12 road_class=0 road_speed=0 resolution 22]
highway=cycleway & sac_scale=mountain_hiking										[0x12 resolution 22]
highway=cycleway & sac_scale=demanding_mountain_hiking								[0x12 resolution 22]
highway=cycleway & sac_scale=alpine_hiking											[0x12 resolution 22]
highway=cycleway & sac_scale=demanding_alpine_hiking								[0x12 resolution 24]
highway=cycleway & sac_scale=difficult_alpine_hiking		 						[0x12 resolution 24]
highway=cycleway & mtb:scale=*   				{add mkgmap:unpaved=1}				[0x12 road_class=0 road_speed=0 resolution 22]
highway=cycleway & tracktype=extremecarver 				 							[0x12 road_class=0 road_speed=0 resolution 22]

highway=cycleway & oneway=yes														[0x03 road_class=1 road_speed=0 resolution 22]
highway=cycleway & extremecarver5!=bike & route!=bicycle				{set toll=yes}			[0x03 road_class=4 road_speed=3 resolution 24 continue]
highway=cycleway 				& ( extremecarver5=bike | route=bicycle ) 	{set toll=yes}		[0x03 road_class=2 road_speed=1 resolution 24 continue]
highway=cycleway 				& ( extremecarver5=bike | route=bicycle ) 			[0x03 road_class=4 road_speed=2 resolution 21]
highway=cycleway & segregated=no													[0x16 road_class=4 road_speed=2 resolution 22]

highway=cycleway & highway=footway	& bicycle=designated 							[0x16 road_class=4 road_speed=2 resolution 22]
highway=cycleway & highway=footway						 							[0x16 road_class=3 road_speed=2 resolution 22]
highway=cycleway 																	[0x03 road_class=4 road_speed=2 resolution 22]




highway=path	& class:bicycle=3 	[0x01 road_class=4 road_speed=3 resolution 24 continue]
highway=path	& class:bicycle=3 	[0x03 road_class=4 road_speed=2 resolution 22]
highway=path	& class:bicycle=2 	[0x03 road_class=4 road_speed=3 resolution 24 continue]
highway=path	& class:bicycle=2 	[0x03 road_class=4 road_speed=2 resolution 22]
highway=path	& class:bicycle=1 	[0x03 road_class=4 road_speed=3 resolution 24 continue]
highway=path	& class:bicycle=1 	[0x03 road_class=4 road_speed=2 resolution 22]
highway=path	& class:bicycle=-1 	[0x16 road_class=2 road_speed=1 resolution 22]
highway=path	& class:bicycle=-2 	[0x0e road_class=1 road_speed=1 resolution 22]
highway=path	& class:bicycle=-3 	[0x12 resolution 23]


highway=path & tracktype=grade4													[0x0f road_class=0 road_speed=0 resolution 22]
highway=path & tracktype=grade5													[0x12 resolution 23]
highway=path & ( tracktype=extremecarver & bicycle=designated ) 				[0x12 road_class=0 road_speed=0 resolution 23]
highway=path & ( tracktype=grade2 & bicycle=designated )						[0x0d road_class=1 road_speed=1 resolution 22]
highway=path & ( tracktype=grade2 & ( bicycle=yes | bicycle=permissive ))		[0x0d road_class=1 road_speed=0 resolution 22]
highway=path & ( tracktype=grade3 & ( bicycle=yes | bicycle=permissive ))		[0x0e road_class=0 road_speed=0 resolution 22]
highway=path & ( tracktype=grade2 & bicycle=nope )	{add mkgmap:unpaved=1}		[0x0d resolution 23]
highway=path & ( tracktype=grade3 & bicycle=nope )								[0x0e resolution 23]
highway=path & tracktype=grade3													[0x0e road_class=0 road_speed=0 resolution 22]
highway=path & tracktype=grade2 												[0x0d road_class=1 road_speed=0 resolution 22]
highway=path & sac_scale=hiking													[0x0f road_class=0 road_speed=0 resolution 22]
highway=path & sac_scale=mountain_hiking										[0x12 resolution 23]
highway=path & sac_scale=demanding_mountain_hiking								[0x12 resolution 23]
highway=path & sac_scale=alpine_hiking											[0x12 resolution 23]
highway=path & sac_scale=demanding_alpine_hiking	{delete highway}
highway=path & sac_scale=difficult_alpine_hiking	{delete highway}
highway=path & tracktype=extremecarver 				 							[0x12 resolution 23]
highway=path & mtb:scale=0   													[0x0f road_class=0 road_speed=0 resolution 22]
highway=path & mtb:scale=1   													[0x12 road_class=0 road_speed=0 resolution 22]
highway=path & mtb:scale>1   													[0x12 resolution 23]
highway=path & designation=cycleway												[0x03 road_class=4 road_speed=2 resolution 22]
highway=path & bicycle=yes														[0x03 road_class=3 road_speed=2 resolution 22]


highway=path & bicycle=nope										 				[0x06 resolution 22]
highway=path & ( tracktype=grade1 & bicycle=designated )						[0x03 road_class=4 road_speed=2 resolution 22]
highway=path & ( tracktype=grade1 & ( bicycle=yes | bicycle=permissive ))		[0x03 road_class=4 road_speed=2 resolution 22]
highway=path & ( tracktype=grade1 & bicycle=nope )	{add mkgmap:unpaved=1}		[0x06 road_class=1 road_speed=1 resolution 22]
highway=path & tracktype=grade1 												[0x16 road_class=4 road_speed=2 resolution 22]
highway=path & segregated=yes	& ( extremecarver5=bike | route=bicycle )  		[0x03 road_class=4 road_speed=2 resolution 21]
highway=path & segregated=no	& ( extremecarver5=bike | route=bicycle ) 		[0x16 road_class=4 road_speed=2 resolution 21]
highway=path & bicycle=official	& ( extremecarver5=bike | route=bicycle ) 		[0x03 road_class=4 road_speed=2 resolution 21]
highway=path & bicycle=designated & ( extremecarver5=bike | route=bicycle ) 	[0x03 road_class=4 road_speed=2 resolution 21]
highway=path 					& ( extremecarver5=bike | route=bicycle ) 		[0x16 road_class=4 road_speed=2 resolution 21]
highway=path & bicycle=designated	 											[0x03 road_class=4 road_speed=2 resolution 22]

highway=path & segregated=yes													[0x03 road_class=3 road_speed=2 resolution 22]
highway=path & segregated=no													[0x16 road_class=2 road_speed=2 resolution 22]
highway=path & bicycle=official													[0x03 road_class=2 road_speed=2 resolution 22]
highway=path & mtb:scale:uphill=0												[0x0e road_class=0 road_speed=0 resolution 22]
highway=path & mtb:scale:uphill>2												[0x12 road_class=0 road_speed=0 resolution 22]
highway=path & mtb:scale:uphill>0												[0x0f road_class=0 road_speed=0 resolution 22]
highway=path & ( foot=designated | designation=footway )						[0x06 road_class=0 road_speed=0 resolution 22]

highway=path 																	[0x01 road_class=1 road_speed=1 resolution 24 continue]
highway=path 																	[0x10803 resolution 22]



highway=footway	& class:bicycle=3 	[0x01 road_class=4 road_speed=3 resolution 24 continue]
highway=footway	& class:bicycle=3 	[0x03 road_class=4 road_speed=2 resolution 22]
highway=footway	& class:bicycle=2 	[0x03 road_class=4 road_speed=2 resolution 22]
highway=footway	& class:bicycle=1 	[0x03 road_class=3 road_speed=2 resolution 22]
highway=footway	& class:bicycle=-1 	[0x06 road_class=1 road_speed=1 resolution 22]
highway=footway	& class:bicycle=-2 	[0x0d road_class=0 road_speed=0 resolution 22]
highway=footway	& class:bicycle=-3 	[0x12 resolution 23]

highway=footway & ( tracktype=grade2 & bicycle=designated )						[0x16 road_class=1 road_speed=1 resolution 22]
highway=footway & ( tracktype=grade2 & ( bicycle=yes | bicycle=permissive ))	[0x16 road_class=1 road_speed=0 resolution 22]
highway=footway & ( tracktype=grade3 & ( bicycle=yes | bicycle=permissive ))	[0x0d road_class=0 road_speed=0 resolution 22]
highway=footway & ( tracktype=grade2 & bicycle=nope )							[0x06 road_class=0 road_speed=0 resolution 23]
highway=footway & ( tracktype=grade3 & bicycle=nope )							[0x06 road_class=0 road_speed=0 resolution 23]
highway=footway & tracktype=grade3												[0x0e road_class=0 road_speed=0 resolution 22]
highway=footway & mtb:scale=0   												[0x12 road_class=0 road_speed=0 resolution 22]
highway=footway & mtb:scale=1   												[0x12 resolution 22]
highway=footway & mtb:scale>1   												[0x12 resolution 23]
highway=footway & tracktype=grade4												[0x0f road_class=0 road_speed=0 resolution 22]
highway=footway & tracktype=grade5												[0x12 resolution 23]
highway=footway & ( tracktype=extremecarver & bicycle=designated ) 				[0x12 resolution 23]
highway=footway & sac_scale=mountain_hiking										[0x1f resolution 23]
highway=footway & sac_scale=demanding_mountain_hiking							[0x12 resolution 23]
highway=footway & sac_scale=alpine_hiking										[0x12 resolution 23]
highway=footway & sac_scale=demanding_alpine_hiking	{delete highway}
highway=footway & sac_scale=difficult_alpine_hiking	{delete highway}
highway=footway & tracktype=extremecarver			{delete highway}
highway=footway & ( bicycle=yes	| bicycle=designated | bicycle=permissive)		[0x16 road_class=1 road_speed=1 resolution 22]



highway=footway & ( tracktype=grade1 & bicycle=designated )						[0x16 road_class=3 road_speed=2 resolution 22]
highway=footway & ( tracktype=grade1 & ( bicycle=yes | bicycle=permissive ))	[0x16 road_class=3 road_speed=2 resolution 22]
highway=footway & ( tracktype=grade1 & bicycle=nope )	{add mkgmap:unpaved=1}	[0x06 road_class=0 road_speed=0 resolution 22]
highway=footway & segregated=yes	& ( extremecarver5=bike | route=bicycle )  	[0x03 road_class=3 road_speed=2 resolution 21]
highway=footway & segregated=no	& ( extremecarver5=bike | route=bicycle ) 		[0x16 road_class=2 road_speed=1 resolution 21]
highway=footway & bicycle=official	& ( extremecarver5=bike | route=bicycle ) 	[0x03 road_class=2 road_speed=1 resolution 21]
highway=footway & bicycle=designated & ( extremecarver5=bike | route=bicycle ) 	[0x03 road_class=3 road_speed=2 resolution 21]
highway=footway 					& ( extremecarver5=bike | route=bicycle ) 	[0x16 road_class=2 road_speed=1 resolution 21]
highway=footway & bicycle=designated	 										[0x03 road_class=2 road_speed=2 resolution 22]
highway=footway & segregated=yes												[0x03 road_class=1 road_speed=2 resolution 22]
highway=footway & bicycle=official												[0x03 road_class=1 road_speed=1 resolution 22]
highway=footway & tracktype=grade2 												[0x06 road_class=0 road_speed=0 resolution 22]
highway=footway & segregated=no													[0x16 road_class=1 road_speed=1 resolution 22]


highway=footway & tracktype=grade1 												[0x01 road_class=0 road_speed=1 resolution 24 continue]
highway=footway & tracktype=grade1 												[0x10803 resolution 22]
highway=footway & mtb:scale:uphill=0											[0x0e road_class=0 road_speed=0 resolution 22]
highway=footway & mtb:scale:uphill>2											[0x12 road_class=0 road_speed=0 resolution 22]
highway=footway & mtb:scale:uphill>0											[0x0f road_class=0 road_speed=0 resolution 22]
highway=footway & sac_scale=hiking												[0x0f resolution 22]
highway=footway & bicycle=nope													[0x06 resolution 22]
highway=footway 																[0x06 road_class=0 road_speed=0 resolution 22]



highway=bridleway	& class:bicycle=3 	[0x01 road_class=4 road_speed=3 resolution 24 continue]
highway=bridleway	& class:bicycle=3 	[0x03 road_class=4 road_speed=2 resolution 22]
highway=bridleway	& class:bicycle=2 	[0x01 road_class=4 road_speed=3 resolution 24 continue]
highway=bridleway	& class:bicycle=2 	[0x03 road_class=4 road_speed=2 resolution 22]
highway=bridleway	& class:bicycle=1 	[0x16 road_class=4 road_speed=2 resolution 22]
highway=bridleway	& class:bicycle=-1 	[0x0d road_class=1 road_speed=1 resolution 22]
highway=bridleway	& class:bicycle=-2 	[0x0e road_class=0 road_speed=0 resolution 22]
highway=bridleway	& class:bicycle=-3 	[0x2a resolution 23]

highway=bridleway & tracktype=grade4											[0x0f resolution 22]
highway=bridleway & tracktype=grade5											[0x12 resolution 23]
highway=bridleway & ( tracktype=extremecarver & bicycle=designated ) 			[0x12 resolution 23]
highway=bridleway & ( tracktype=grade2 & bicycle=designated )					[0x0d road_class=0 road_speed=0 resolution 22]
highway=bridleway & ( tracktype=grade2 & ( bicycle=yes | bicycle=permissive ))	[0x0d road_class=0 road_speed=0 resolution 22]
highway=bridleway & ( tracktype=grade3 & ( bicycle=yes | bicycle=permissive ))	[0x0e road_class=0 road_speed=0 resolution 22]
highway=bridleway & ( tracktype=grade2 & bicycle=nope )	{add mkgmap:unpaved=1}	[0x0d road_class=0 road_speed=0 resolution 23]
highway=bridleway & ( tracktype=grade3 & bicycle=nope )							[0x0e road_class=0 road_speed=0 resolution 23]
highway=bridleway & tracktype=grade2 											[0x0d road_class=0 road_speed=0 resolution 22]
highway=bridleway & sac_scale=mountain_hiking									[0x12 resolution 23]
highway=bridleway & tracktype=grade3											[0x2a resolution 22]
highway=bridleway & sac_scale=demanding_mountain_hiking							[0x12 resolution 23]
highway=bridleway & sac_scale=alpine_hiking										[0x12 resolution 23]
highway=bridleway & sac_scale=demanding_alpine_hiking	{delete highway}
highway=bridleway & sac_scale=difficult_alpine_hiking	{delete highway}
highway=bridleway & tracktype=extremecarver 				 					[0x12 resolution 23]
highway=bridleway & bicycle=yes													[0x26 resolution 22 continue]
highway=bridleway & bicycle=yes													[0x16 road_class=2 road_speed=0 resolution 22]


highway=bridleway & bicycle=nope	{add taxi=no; add mkgmap:unpaved=1} 		[0x0e road_class=0 road_speed=0 resolution 22]
highway=bridleway & ( tracktype=grade1 & bicycle=designated )					[0x03 road_class=3 road_speed=2 resolution 22]
highway=bridleway & ( tracktype=grade1 & ( bicycle=yes | bicycle=permissive ))	[0x03 road_class=3 road_speed=2 resolution 22]
highway=bridleway & ( tracktype=grade1 & bicycle=nope )	{add mkgmap:unpaved=1}	[0x0d road_class=0 road_speed=0 resolution 23]
highway=bridleway & tracktype=grade1 											[0x03 road_class=1 road_speed=1 resolution 22]
highway=bridleway & segregated=yes	& ( extremecarver5=bike | route=bicycle )  	[0x03 road_class=3 road_speed=2 resolution 21]
highway=bridleway & segregated=no	& ( extremecarver5=bike | route=bicycle ) 	[0x16 road_class=0 road_speed=1 resolution 21]
highway=bridleway & bicycle=official & (extremecarver5=bike | route=bicycle ) 	[0x03 road_class=1 road_speed=2 resolution 21]
highway=bridleway & bicycle=designated & (extremecarver5=bike | route=bicycle) 	[0x03 road_class=3 road_speed=2 resolution 21]
highway=bridleway 					& ( extremecarver5=bike | route=bicycle ) 	[0x16 road_class=1 road_speed=2 resolution 21]
highway=bridleway & bicycle=designated	 										[0x03 road_class=2 road_speed=2 resolution 22]


highway=bridleway & segregated=yes												[0x03 road_class=1 road_speed=2 resolution 22]
highway=bridleway & segregated=no												[0x16 road_class=1 road_speed=1 resolution 22]
highway=bridleway & bicycle=official											[0x03 road_class=1 road_speed=1 resolution 22]
highway=bridleway & mtb:scale=*   												[0x0f resolution 23]
highway=bridleway & sac_scale=hiking											[0x2a resolution 22]
highway=bridleway 																[0x01 road_class=0 road_speed=1 resolution 24 continue]
highway=bridleway 																[0x2a resolution 23]



(highway=unclassified | highway=minor | highway=road | highway=service ) & ( tracktype=grade3 | tracktype=grade4 | tracktype=grade5 | tracktype=extremecarver ) { set highway=unsurfaced }

(highway=unclassified | highway=minor ) & class:bicycle=3	& tracktype=grade2 [0x01 road_class=3 road_speed=2 resolution 24 continue]
(highway=unclassified | highway=minor ) & class:bicycle=3	& tracktype=grade2 [0x01 road_class=3 road_speed=1 resolution 24 continue]
(highway=unclassified | highway=minor ) & class:bicycle=3	& tracktype=grade2 [0x0d road_class=4 road_speed=3 resolution 21]
(highway=unclassified | highway=minor ) & class:bicycle=2	& tracktype=grade2 [0x0d road_class=3 road_speed=2 resolution 21]
(highway=unclassified | highway=minor ) & class:bicycle=1	& tracktype=grade2 [0x0d road_class=2 road_speed=2 resolution 22]
(highway=unclassified | highway=minor ) & class:bicycle=0	& tracktype=grade2 [0x0d road_class=2 road_speed=1 resolution 22]
(highway=unclassified | highway=minor ) & class:bicycle=-1	& tracktype=grade2 [0x0d road_class=1 road_speed=1 resolution 22]
(highway=unclassified | highway=minor ) & class:bicycle=-2	& tracktype=grade2 [0x0d road_class=0 road_speed=1 resolution 22]
(highway=unclassified | highway=minor ) & class:bicycle=-3	& tracktype=grade2 [0x0e road_class=0 road_speed=0 resolution 22]


(highway=unclassified | highway=minor ) & class:bicycle=3 	[0x0b road_class=4 road_speed=3 resolution 24 continue]
(highway=unclassified | highway=minor ) & class:bicycle=2 	[0x0b road_class=4 road_speed=3 resolution 24 continue]
(highway=unclassified | highway=minor ) & class:bicycle=3 	[0x0b road_class=4 road_speed=1 resolution 24 continue]
(highway=unclassified | highway=minor ) & class:bicycle=2 	[0x0b road_class=4 road_speed=1 resolution 24 continue]
(highway=unclassified | highway=minor ) & class:bicycle=3 	[0x0b road_class=3 road_speed=2 resolution 21]
(highway=unclassified | highway=minor ) & class:bicycle=2 	[0x0b road_class=3 road_speed=2 resolution 21]
(highway=unclassified | highway=minor ) & class:bicycle=1 	[0x0b road_class=4 road_speed=2 resolution 21] 
(highway=unclassified | highway=minor ) & class:bicycle=0 	[0x0b road_class=3 road_speed=2 resolution 21]
(highway=unclassified | highway=minor ) & class:bicycle=-1 	[0x0b road_class=2 road_speed=2 resolution 22]
(highway=unclassified | highway=minor ) & class:bicycle=-2 	[0x0b road_class=1 road_speed=1 resolution 22]
(highway=unclassified | highway=minor ) & class:bicycle=-3 	[0x0b road_class=1 road_speed=0 resolution 22]



( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=3	& tracktype=grade5 [0x0f road_class=2 road_speed=1 resolution 22]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=2	& tracktype=grade5 [0x12 road_class=1 road_speed=1 resolution 22]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=1	& tracktype=grade5 [0x12 road_class=1 road_speed=1 resolution 22]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=0	& tracktype=grade5 [0x12 road_class=0 road_speed=1 resolution 23]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=-1	& tracktype=grade5 [0x12 resolution 23]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=-2	& tracktype=grade5 [0x12 resolution 23]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=-3	& tracktype=grade5 [0x0e resolution 23]

( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=3	& tracktype=grade4 [0x0f road_class=3 road_speed=1 resolution 22]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=2	& tracktype=grade4 [0x0e road_class=2 road_speed=1 resolution 22]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=1	& tracktype=grade4 [0x0e road_class=1 road_speed=1 resolution 22]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=0	& tracktype=grade4 [0x0e road_class=0 road_speed=0 resolution 23]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=-1	& tracktype=grade4 [0x0e road_class=0 road_speed=0 resolution 23]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=-2	& tracktype=grade4 [0x0e resolution 23]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=-3	& tracktype=grade4 [0x0e resolution 23]

( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=3	& tracktype=grade3 [0x0d road_class=4 road_speed=1 resolution 24 continue]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=3	& tracktype=grade3 [0x0d road_class=4 road_speed=2 resolution 22]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=2	& tracktype=grade3 [0x0e road_class=3 road_speed=2 resolution 22]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=1	& tracktype=grade3 [0x0e road_class=1 road_speed=1 resolution 22]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=0	& tracktype=grade3 [0x0e road_class=0 road_speed=0 resolution 22]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=-1	& tracktype=grade3 [0x0e road_class=0 road_speed=0 resolution 22]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=-2	& tracktype=grade3 [0x0f resolution 23]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=-3	& tracktype=grade3 [0x0f resolution 23]

( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=3	& tracktype=grade2 [0x0d road_class=4 road_speed=1 resolution 24 continue]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=3	& tracktype=grade2 [0x0d road_class=4 road_speed=2 resolution 22]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=2	& tracktype=grade2 [0x0d road_class=3 road_speed=2 resolution 22]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=1	& tracktype=grade2 [0x0d road_class=2 road_speed=2 resolution 22]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=0	& tracktype=grade2 [0x0d road_class=1 road_speed=1 resolution 22]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=-1	& tracktype=grade2 [0x0d road_class=0 road_speed=1 resolution 22]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=-2	& tracktype=grade2 [0x0d road_class=0 road_speed=0 resolution 22]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=-3	& tracktype=grade2 [0x0e resolution 23]

( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=3	& tracktype=grade1 [0x0a road_class=4 road_speed=1 resolution 24 continue]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced )& class:bicycle=3	& tracktype=grade1 [0x0a road_class=4 road_speed=0 resolution 24 continue]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=2	& tracktype=grade1 [0x0a road_class=3 road_speed=1 resolution 24 continue]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=3	& tracktype=grade1 [0x0a road_class=4 road_speed=2 resolution 22]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=2	& tracktype=grade1 [0x0a road_class=3 road_speed=2 resolution 22]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=1	& tracktype=grade1 [0x0a road_class=2 road_speed=2 resolution 22]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=0	& tracktype=grade1 [0x0a road_class=1 road_speed=2 resolution 22]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=-1	& tracktype=grade1 [0x0a road_class=0 road_speed=1 resolution 22]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=-2	& tracktype=grade1 [0x0d road_class=0 road_speed=1 resolution 22]
( highway=service | highway=track | highway=byway | highway=road | highway=unsurfaced ) & class:bicycle=-3	& tracktype=grade1 [0x0d resolution 23]


higwhay=unsurfaced & class:bicycle=3 	[0x0d road_class=4 road_speed=1 resolution 24 continue]
higwhay=unsurfaced & class:bicycle=2 	[0x0d road_class=4 road_speed=1 resolution 24 continue]
higwhay=unsurfaced & class:bicycle=3 	[0x0d road_class=4 road_speed=2 resolution 22]
higwhay=unsurfaced & class:bicycle=2 	[0x0d road_class=3 road_speed=2 resolution 22]
higwhay=unsurfaced & class:bicycle=1 	[0x0d road_class=1 road_speed=2 resolution 22] 
higwhay=unsurfaced & class:bicycle=0 	[0x0d road_class=1 road_speed=1 resolution 22]
higwhay=unsurfaced & class:bicycle=-1 	[0x0d road_class=0 road_speed=1 resolution 22]
higwhay=unsurfaced & class:bicycle=-2 	[0x0d road_class=0 road_speed=0 resolution 23]
higwhay=unsurfaced & class:bicycle=-3 	[0x0e resolution 23]

highway=track & class:bicycle=3 	[0x0a road_class=4 road_speed=1 resolution 24 continue]
highway=track & class:bicycle=2 	[0x0a road_class=4 road_speed=1 resolution 24 continue]
highway=track & class:bicycle=3 	[0x0a road_class=4 road_speed=2 resolution 22]
highway=track & class:bicycle=2 	[0x0a road_class=3 road_speed=2 resolution 22]
highway=track & class:bicycle=1 	[0x0a road_class=2 road_speed=2 resolution 22]
highway=track & (class:bicycle=0 | class:bicycle=-1) [0x10309 resolution 23-22 continue]
highway=track & (class:bicycle=0 | class:bicycle=-1) [0x10804 resolution 24 continue]
highway=track & class:bicycle=0 	[0x01 road_class=0 road_speed=1 resolution 24]
highway=track & class:bicycle=-1 	[0x01 road_class=0 road_speed=1 resolution 24]
highway=track & (class:bicycle=-2 | class:bicycle=-3) [0x10309 resolution 23 continue]
highway=track & class:bicycle=-2 	[0x01 road_class=0 road_speed=0 resolution 24]
highway=track & class:bicycle=-3 	[0x01 resolution 24]

higwhay=byway & class:bicycle=3 	[0x0a road_class=4 road_speed=1 resolution 24 continue]
higwhay=byway & class:bicycle=2 	[0x0a road_class=4 road_speed=1 resolution 24 continue]
higwhay=byway & class:bicycle=3 	[0x0a road_class=4 road_speed=2 resolution 22]
higwhay=byway & class:bicycle=2 	[0x0a road_class=3 road_speed=2 resolution 22]
higwhay=byway & class:bicycle=1 	[0x0a road_class=2 road_speed=2 resolution 22] 
higwhay=byway & class:bicycle=0 	[0x0a road_class=0 road_speed=1 resolution 22]
higwhay=byway & class:bicycle=-1 	[0x0a road_class=0 road_speed=1 resolution 22]
higwhay=byway & class:bicycle=-2 	[0x0d road_class=0 road_speed=0 resolution 23]
higwhay=byway & class:bicycle=-3 	[0x0e resolution 23]

higwhay=service & class:bicycle=3 	[0x10 road_class=4 road_speed=1 resolution 24 continue]
higwhay=service & class:bicycle=2 	[0x10 road_class=4 road_speed=1 resolution 24 continue]
higwhay=service & class:bicycle=3 	[0x10 road_class=4 road_speed=2 resolution 22]
higwhay=service & class:bicycle=2 	[0x10 road_class=3 road_speed=2 resolution 22]
higwhay=service & class:bicycle=1 	[0x10 road_class=2 road_speed=2 resolution 22] 
higwhay=service & class:bicycle=0 	[0x10 road_class=0 road_speed=1 resolution 22]
higwhay=service & class:bicycle=-1 	[0x10 road_class=0 road_speed=1 resolution 22]
higwhay=service & class:bicycle=-2 	[0x0d road_class=0 road_speed=0 resolution 23]
higwhay=service & class:bicycle=-3 	[0x0e resolution 23]

higwhay=road & class:bicycle=3 	[0x0a road_class=4 road_speed=1 resolution 24 continue]
higwhay=road & class:bicycle=2 	[0x0a road_class=4 road_speed=1 resolution 24 continue]
higwhay=road & class:bicycle=3 	[0x0a road_class=4 road_speed=2 resolution 22]
higwhay=road & class:bicycle=2 	[0x0a road_class=3 road_speed=2 resolution 22]
higwhay=road & class:bicycle=1 	[0x10 road_class=2 road_speed=2 resolution 22] 
higwhay=road & class:bicycle=0 	[0x10 road_class=0 road_speed=1 resolution 22]
higwhay=road & class:bicycle=-1 [0x10 road_class=0 road_speed=1 resolution 22]
higwhay=road & class:bicycle=-2 [0x0d road_class=0 road_speed=0 resolution 23]
higwhay=road & class:bicycle=-3 [0x0e resolution 23]



( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & mtb:scale=1		[0x12 resolution 22]
( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & mtb:scale>1		[0x12 resolution 23]
( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & ( tracktype=grade1 & ( bicycle=designated | bicycle=yes | bicycle=permissive ))	[0x0a road_class=4 road_speed=2 resolution 22 continue]
( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & ( tracktype=grade2 & ( bicycle=designated | bicycle=yes | bicycle=permissive ))	[0x0d road_class=2 road_speed=1 resolution 22]
( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & ( tracktype=grade3 & ( bicycle=designated | bicycle=yes | bicycle=permissive ))	[0x0e road_class=1 road_speed=1 resolution 22]
( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & ( tracktype=grade4 & ( bicycle=designated | bicycle=yes | bicycle=permissive ))	[0x0f road_class=0 road_speed=0 resolution 22]
( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & ( tracktype=grade5 & ( bicycle=designated | bicycle=yes | bicycle=permissive ))	[0x12 road_class=0 road_speed=0 resolution 22]
( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & tracktype=extremecarver [0x12 resolution 23]
( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & sac_scale=demanding_mountain_hiking		[0x12 resolution 23]
( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & sac_scale=alpine_hiking					[0x12 resolution 23]

( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & bicycle=designated		[0x01 road_class=4 road_speed=2 resolution 24 continue]
( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & bicycle=designated		[0x10804 resolution 22]

	
( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & ( tracktype=grade1 & bicycle=nope )			[0x0a road_class=1 road_speed=1 resolution 23]
( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & ( tracktype=grade2 & bicycle=nope )			[0x0d road_class=0 road_speed=0 resolution 23]
( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & ( tracktype=grade3 & bicycle=nope )			[0x0e road_class=0 road_speed=0 resolution 23]
( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & ( tracktype=grade4 & bicycle=nope )			[0x0f road_class=0 road_speed=0 resolution 23]
( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & ( tracktype=grade5 & bicycle=nope )			[0x12 road_class=0 road_speed=0 resolution 23]

( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & bicycle=nope							 		[0x01 road_class=0 road_speed=0 resolution 24 continue]
( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & bicycle=nope							 		[0x10804 resolution 23]
	
( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & tracktype=grade1 								[0x0a road_class=3 road_speed=2 resolution 22]
( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & tracktype=grade2 								[0x0d road_class=1 road_speed=0 resolution 22]
( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & tracktype=grade3 								[0x0e road_class=0 road_speed=0 resolution 22]
( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & tracktype=grade4 								[0x0f road_class=0 road_speed=0 resolution 22]
( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & tracktype=grade5 								[0x12 road_class=0 road_speed=0 resolution 22]

( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=service ) & sac_scale=hiking																		[0x0e road_class=0 road_speed=0 resolution 22]
( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=unclassified | highway=service | highway=minor ) & sac_scale=mountain_hiking						[0x0e road_class=0 road_speed=0 resolution 22]


( highway=track | highway=unsurfaced | highway=road | highway=byway | highway=service ) & mtb:scale=0 [0x0f road_class=0 road_speed=0  resolution 22]



highway=cycletrack &  ( extremecarver5=bike | route=bicycle ) 	[0x03 road_class=4 road_speed=2 resolution 21]
highway=cycletrack & ( extremecarver=mr | route=mtb ) 			[0x03 road_class=4 road_speed=2 resolution 21]
highway=cycletrack & highway=footway	& bicycle=designated 	[0x16 road_class=4 road_speed=2 resolution 22]
highway=cycletrack & highway=footway						 	[0x16 road_class=3 road_speed=2 resolution 22]
highway=cycletrack											 	[0x03 road_class=4 road_speed=2 resolution 22]


highway=track 					& ( extremecarver5=bike | route=bicycle )							[0x01 road_class=2 road_speed=2 resolution 24 continue]
highway=track 					& ( extremecarver5=bike | route=bicycle )							[0x10804 resolution 21]
highway=unsurfaced 				& ( extremecarver5=bike | route=bicycle )							[0x0d road_class=1 road_speed=1 resolution 21]
highway=unclassified 			& ( extremecarver5=bike | route=bicycle )							[0x0b road_class=4 road_speed=2 resolution 21]
highway=minor 					& ( extremecarver5=bike | route=bicycle )							[0x0b road_class=4 road_speed=2 resolution 21]
highway=byway 					& ( extremecarver5=bike | route=bicycle )							[0x0a road_class=3 road_speed=1 resolution 21]
highway=service & access=yes	& ( extremecarver5=bike | route=bicycle )							[0x10 road_class=1 road_speed=2 resolution 21]
highway=service & access=no	& ( extremecarver5=bike | route=bicycle ) {add taxi=no; set access=yes}	[0x10 road_class=1 road_speed=2 resolution 21]
highway=service 				& ( extremecarver5=bike | route=bicycle )							[0x10 road_class=1 road_speed=2 resolution 21]
highway=construction			& ( extremecarver5=bike | route=bicycle )							[0x213 road_class=1 road_speed=1 resolution 21]
highway=road 					& ( extremecarver5=bike | route=bicycle )							[0x200 road_class=3 road_speed=2 resolution 21]

highway=unclassified 			& ( extremecarver=mr | route=mtb )									[0x0b road_class=4 road_speed=2 resolution 22]
highway=minor 					& ( extremecarver=mr | route=mtb )									[0x0b road_class=4 road_speed=2 resolution 22]
highway=byway 					& ( extremecarver=mr | route=mtb )									[0x0a road_class=0 road_speed=1 resolution 22]


highway=track & fixme='check import' 								[0x0f road_class=0 road_speed=0 resolution 24]
highway=track & fixme=* & import=* 									[0x0f road_class=0 road_speed=0 resolution 24]
highway=track & fixme=*			 									[0x01 road_class=0 road_speed=0 resolution 24 continue]
highway=track & fixme=*			 									[0x10309 resolution 22]
highway=track 														[0x10309 resolution 23-22 continue]
highway=track 														[0x01 road_class=0 road_speed=1 resolution 24 continue]
highway=track 														[0x10804 resolution 24]
highway=unsurfaced 													[0x0d road_class=0 road_speed=1 resolution 22]
highway=unclassified & fixme=*										[0x0b road_class=2 road_speed=2 resolution 22]
highway=unclassified 												[0x0b road_class=3 road_speed=2 resolution 21]
highway=minor 														[0x0b road_class=4 road_speed=2 resolution 21]
highway=ford 			{add taxi=no; add mkgmap:unpaved=1}			[0x0d road_class=0 road_speed=0 resolution 22]
highway=byway 														[0x0a road_class=0 road_speed=1 resolution 22]

highway=residential & fixme='check import' 							[0x07 road_class=0 road_speed=0 resolution 24]
highway=residential & fixme=* & import=* 							[0x07 road_class=0 road_speed=0 resolution 24]
highway=residential & fixme=*			 							[0x07 road_class=0 road_speed=1 resolution 24]
highway=residential 					 							[0x07 road_class=0 road_speed=1 resolution 24]


highway=service & access=yes													[0x10 road_class=1 road_speed=1 resolution 22]
highway=service & access=no	& bicycle=* & bicycle!=nope							[0x10 road_class=0 road_speed=1 resolution 22]
highway=service & access=no	& foot=* & foot!=no	{add mkgmap:unpaved=1}			[0x10 road_class=0 road_speed=0 resolution 22]
highway=service & access=no				{add mkgmap:unpaved=1}					[0x10 road_class=0 road_speed=0 resolution 22]
highway=service 																[0x10 road_class=0 road_speed=1 resolution 22]
highway=services 					{add taxi=no; add mkgmap:unpaved=1}			[0x10 road_class=0 road_speed=0 resolution 23]
highway=construction & tunnel!=yes	{add taxi=no; add mkgmap:unpaved=1}			[0x10503 resolution 22]
highway=road 																	[0x200 road_class=0 road_speed=1 resolution 22]
highway=turning_circle															[0x201 road_class=1 road_speed=0 resolution 24 continue]
highway=turning_circle															[0x10308 resolution 23-22]
(highway=unknown	| highway=undefined ) {add taxi=no; add mkgmap:unpaved=1}	[0x200 road_class=0 road_speed=1 resolution 22]
highway=crossing																[0x0b road_class=2 road_speed=0 resolution 21]
highway=bridge																	[0x0b road_class=2 road_speed=0 resolution 21]
highway=driveway							{add taxi=no; add mkgmap:unpaved=1}	[0x202 road_class=0 road_speed=1 resolution 23]
highway=pier | man_made=pier													[0x200 road_class=0 road_speed=0 resolution 22]
(highway=incline | highway=incline_steep)	{add taxi=no; add mkgmap:unpaved=1}	[0x200 road_class=0 road_speed=1 resolution 22]
highway=fixme 								{add taxi=no; add mkgmap:unpaved=1}	[0x200 road_class=0 road_speed=0 resolution 22]

highway=cyclelane &  (extremecarver5=bike | route=bicycle ) 	[0x03 road_class=2 road_speed=2 resolution 21]
highway=cyclelane & ( extremecarver=mr | route=mtb )			[0x03 road_class=2 road_speed=2 resolution 21]
highway=cyclelane & highway=footway	& bicycle=designated 		[0x16 road_class=2 road_speed=2 resolution 22]
highway=cyclelane & highway=footway						 		[0x16 road_class=1 road_speed=2 resolution 22]
highway=cyclelane											 	[0x03 road_class=1 road_speed=2 resolution 22]

# experimental - add invisible sidewalks
highway=sidewalk {add taxi=no} [0x00 road_class=0 road_speed=0 resolution 24]